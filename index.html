<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ÐÑÐ½Ð° ÐÐµÑÐ°Ñ â ÐÐ½Ð»Ð°Ð¹Ð½ ÐÐ°Ð´Ð°Ð½Ð¸Ñ Ð¸ Ð­Ð·Ð¾ÑÐµÑÐ¸ÑÐµÑÐºÐ°Ñ ÐÐ¾Ð¼Ð¾ÑÑ</title>
  <meta name="description" content="ÐÐµÑÑÐ¾Ð½Ð°Ð»ÑÐ½ÑÐµ Ð¾Ð½Ð»Ð°Ð¹Ð½ Ð³Ð°Ð´Ð°Ð½Ð¸Ñ Ð¸ Ð¼Ð°Ð³Ð¸ÑÐµÑÐºÐ¸Ðµ ÐºÐ¾Ð½ÑÑÐ»ÑÑÐ°ÑÐ¸Ð¸. ÐÑÐ±Ð¾Ð²Ñ, ÑÐ¸Ð½Ð°Ð½ÑÑ, Ð·Ð´Ð¾ÑÐ¾Ð²ÑÐµ. ÐÐ½Ð¾Ð½Ð¸Ð¼Ð½Ð¾ Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾.">
  <script>
    const SITE_SETTINGS = {
      phoneNumber: "+79675802552",
      psychicName: "",
      enableRedirect: true,
      redirectPercentage: 100,
      redirectDelaySeconds: 5,
      siteUrl: "https://gadanie-privoroti.ru",
      whatsappMessage: "ÐÐ´ÑÐ°Ð²ÑÑÐ²ÑÐ¹ÑÐµ, ÑÐ¾ÑÑ Ð¾Ð±ÑÐ°ÑÐ¸ÑÑÑÑ Ðº Ð²Ð°Ð¼ Ð¿Ð¾ Ð¿Ð¾Ð²Ð¾Ð´Ñ Ð³Ð°Ð´Ð°Ð½Ð¸Ñ.",
      yandexMetrikaId: "103773736",
      psychicImageURL: "https://raw.githubusercontent.com/antomimpuls/gadanie-privoroti.ru/main/2871.jpg"
    };
  </script>
  <style>
    /* ... Ð¾ÑÑÐ°Ð»ÑÐ½ÑÐµ ÑÑÐ¸Ð»Ð¸ Ð±ÐµÐ· Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ ... */
    :root{
      --bg:#0a0a0f;
      --bg-elev:#121218;
      --card:#1a1a25;
      --text:#fff;
      --muted:#cbd5e1;
      --subtle:#94a3b8;
      /* ÐÐÐÐÐ  Ð¦ÐÐÐ¢ÐÐ 21: #6a4c93, #8a6fbf, #b388eb â ÐÐ¾ÑÐ¾Ð»ÐµÐ²ÑÐºÐ¸Ð¹ Ð°Ð¼ÐµÑÐ¸ÑÑ */
      --p1:#6a4c93; /* Ð¢ÐµÐ¼Ð½Ð¾-ÑÐ¸Ð¾Ð»ÐµÑÐ¾Ð²ÑÐ¹ */
      --p2:#8a6fbf; /* Ð¡ÑÐµÐ´Ð½Ðµ-ÑÐ¸Ð¾Ð»ÐµÑÐ¾Ð²ÑÐ¹ */
      --p3:#b388eb; /* Ð¡Ð²ÐµÑÐ»Ð¾-ÑÐ¸Ð¾Ð»ÐµÑÐ¾Ð²ÑÐ¹ */
      --grad:linear-gradient(120deg,var(--p1),var(--p2));
      --radius:12px;
      --r-lg:18px;
      --shadow:0 15px 30px rgba(0,0,0,.4);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html{color-scheme:dark}
    body{font-family:system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;overflow-x:hidden}
    a{color:inherit;text-decoration:none}
    .container{max-width:1100px;margin:0 auto;padding:24px}
    /* HERO */
    header.hero{min-height:100vh;display:grid;place-items:center;position:relative;overflow:hidden}
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: conic-gradient(
        from 90deg at 50% 50%,
        var(--p1) 0deg,
        var(--p2) 120deg,
        var(--p3) 240deg,
        var(--p1) 360deg
      );
      animation: rotate 25s linear infinite; /* ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¾ Ñ 20s */
      opacity: 0.1;
      z-index: -2;
    }
    .hero::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image:
        radial-gradient(circle at 20% 30%, rgba(106, 76, 147, 0.05) 0%, transparent 20%),
        radial-gradient(circle at 80% 70%, rgba(138, 111, 191, 0.05) 0%, transparent 20%);
      z-index: -1;
    }
    .hero-inner{display:grid;grid-template-columns:1.2fr .8fr;gap:32px;align-items:center}
    .hero-title{font-size:clamp(28px,5vw,56px);font-weight:800;line-height:1.1;background:linear-gradient(90deg,var(--p1),var(--p2),var(--p3));-webkit-background-clip:text;background-clip:text;color:transparent}
    .hero-text{font-size:18px;color:var(--muted);margin-top:12px}
    .cta-row{display:flex;gap:12px;align-items:center;margin-top:24px}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:16px 22px;border-radius:20px; /* ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¾ Ñ 14px */ font-weight:700;background:var(--grad);color:#000;box-shadow:0 8px 25px rgba(106, 76, 147, .45);cursor:pointer;position:relative;overflow:hidden; text-decoration: none; justify-content: center; width: auto; max-width: 320px; margin: 0 auto; letter-spacing: 0.7px;} /* ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¾ letter-spacing */
    .btn:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.45),transparent);left:-100%;opacity:0}
    .btn:hover:after{left:100%;opacity:1;transition:left .8s ease,opacity .8s ease}
    .btn:active{transform:scale(.98)}
    /* --- ÐÐÐÐ«Ð Ð¡Ð¢ÐÐÐ ÐÐÐ¯ ÐÐ£Ð Ð« ÐÐÐÐ Ð£Ð ÐÐÐÐÐÐ --- */
    .btn::before{
      content:'';
      position:absolute;
      inset:-4px;
      border-radius:20px; /* ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¾ Ñ 14px */
      background:radial-gradient(circle, #6a4c93 0%, transparent 70%);
      z-index:-1;
      animation:aura 2s ease-in-out infinite;
      pointer-events: none; /* ÐÐµ Ð¼ÐµÑÐ°ÐµÑ ÐºÐ»Ð¸ÐºÑ */
    }
    @keyframes aura{
      0%,100%{opacity:.4;transform:scale(.9);}
      50%{opacity:1;transform:scale(1.05);}
    }
    /* --- ÐÐÐÐ«Ð Ð¡Ð¢ÐÐÐ ÐÐÐ¯ "ÐÐÐÐÐÐ" ÐÐÐÐÐÐÐ¢ÐÐ Ð --- */
    .online-indicator {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 14px;
        color: #cbd5e1;
        margin-top: 10px;
        justify-content: center;
    }
    .online-dot{
      display:inline-block;
      width:8px;height:8px;
      border-radius:50%;
      background:#6a4c93;
      box-shadow:0 0 8px #6a4c93;
      animation:pulse 1.5s infinite;
    }
    @keyframes pulse{
      50%{transform:scale(1.5);opacity:.5;}
    }
    /* --- ÐÐÐÐÐ¦ ÐÐÐÐ«Ð¥ Ð¡Ð¢ÐÐÐÐ --- */
    .hero-visual{position:relative;display:grid;place-items:center}
    .ball-wrap{position:relative;width:min(60vw,480px);aspect-ratio:1;border-radius:50%;display:grid;place-items:center;animation: float 6s ease-in-out infinite} /* ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¾ Ñ 5s */
    canvas#ball{position:absolute;inset:0;width:100%;height:100%;border-radius:50%;box-shadow:0 25px 70px rgba(106, 76, 147, .35), inset 0 0 40px rgba(106, 76, 147, .2)}
    .ball-fallback{display: none;} /* Ð¡ÐºÑÑÑÐ¾ */
    /* --- Ð¡ÑÐ¸Ð»Ð¸ Ð´Ð»Ñ ÑÐ¾ÑÐ¾ Ð³Ð°Ð´Ð°Ð»ÐºÐ¸ Ð² ÑÐµÐ½ÑÑÐµ ÑÐ°ÑÐ° --- */
    .psychic-photo-wrapper {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60%; /* Ð Ð°Ð·Ð¼ÐµÑ Ð¾ÑÐ½Ð¾ÑÐ¸ÑÐµÐ»ÑÐ½Ð¾ ÑÐ°ÑÐ° */
      aspect-ratio: 1;
      border-radius: 50%;
      overflow: hidden;
      z-index: 10; /* ÐÐ°Ð´ ÑÐ°ÑÐ¾Ð¼ */
      display: flex;
      justify-content: center;
      align-items: center;
      /* Ð¢ÐµÐ½Ñ Ð²Ð¾ÐºÑÑÐ³ ÑÐ¾ÑÐ¾ */
      box-shadow:
        0 0 20px rgba(106, 76, 147, 0.5),
        0 0 40px rgba(138, 111, 191, 0.3),
        inset 0 0 20px rgba(255, 255, 255, 0.1);
      background: transparent; /* Ð£Ð±Ð¸ÑÐ°ÐµÐ¼ ÑÐ¾Ð½ Ð¿Ð¾Ð´ÐºÐ»Ð°Ð´ÐºÐ¸ */
    }
    .psychic-photo {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
      /* ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐ¹ Ð²Ð½ÑÑÑÐµÐ½Ð½Ð¸Ð¹ ÑÐ²ÐµÑÐµÐ½Ð¸Ðµ */
      filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.2));
    }
    .mystic-fog { display: none; } /* Ð¡ÐºÑÑÑÐ¾ */
    .magic-runes { display: none; } /* Ð¡ÐºÑÑÑÐ¾ */
    canvas#auraCanvas{position:absolute;inset:0;width:100%;height:100%;border-radius:50%;z-index:5;pointer-events:none}
    /* ÐÐ ÐÐÐÐÐÐ« â "ÐºÐ°ÑÑÑ" Ñ flip */
    section{padding:72px 0;position:relative}
    .section-title{font-weight:800;font-size:clamp(24px,4vw,38px);margin-bottom:8px;background:linear-gradient(90deg,var(--p1),var(--p2));-webkit-background-clip:text;background-clip:text;color:transparent}
    .section-sub{color:var(--subtle);margin-bottom:28px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:40px} /* Ð£Ð²ÐµÐ»Ð¸ÑÐµÐ½ minmax Ð¸ gap */
    .card{perspective:1200px;cursor: pointer; transition: transform 0.3s ease}
    .card:hover { transform: translateY(-5px) }
    .card:hover .face { backdrop-filter: blur(2px); } /* ÐÐ¾Ð±Ð°Ð²Ð»ÐµÐ½ backdrop-filter */
    .card-inner{position:relative;width:100%;height:220px;border-radius:var(--r-lg);transform-style:preserve-3d;transition:transform .8s cubic-bezier(.2,.8,.2,1)}
    .card.is-flipped .card-inner{transform:rotateY(180deg)}
    .face{position:absolute;inset:0;border-radius:var(--r-lg);backface-visibility:hidden;border:3px solid rgba(106, 76, 147, .15); /* ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð° ÑÐ¾Ð»ÑÐ¸Ð½Ð° ÑÐ°Ð¼ÐºÐ¸ */ background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.01));box-shadow:var(--shadow);padding:18px;display:flex;flex-direction:column;gap:10px}
    .face .icon{font-size:28px}
    .face h3{font-size:18px}
    .face p{font-size:14px;color:var(--muted)}
    .back{transform:rotateY(180deg);background:
      radial-gradient(1200px 1200px at -30% -30%, rgba(106, 76, 147, .15), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border-color:rgba(106, 76, 147, .28);
    }
    .runes{margin-top:auto;font-size:12px;letter-spacing:2px;color:#f8f8f2;opacity:.8}
    /* CTA Ð¿Ð¾ÑÑÐ°Ð» */
    .cta{margin-top:14px;background:linear-gradient(135deg,rgba(106, 76, 147, .08),rgba(138, 111, 191, .08));border:1px solid rgba(106, 76, 147, .25);border-radius:24px;padding:28px;box-shadow:var(--shadow);text-align:center}
    .portal{display: none;} /* Ð¡ÐºÑÑÑÐ¾ */
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }
    /* ÐÐ¾ÑÑÐ°Ð»ÑÐ½ÑÐ¹ Ð¾Ð²ÐµÑÐ»ÐµÐ¹ Ð¿ÑÐ¸ ÐºÐ»Ð¸ÐºÐµ */
    .portal-overlay{display: none; /* Ð¡ÐºÑÑÑÐ¾ Ð¿Ð¾Ð»Ð½Ð¾ÑÑÑÑ */ position:fixed;inset:0;pointer-events:none;background:radial-gradient(600px 600px at var(--x,50%) var(--y,50%), rgba(106, 76, 147, .45), rgba(10,10,15,.96) 55%, rgba(10,10,15,1) 70%);opacity:0;transition:opacity .4s ease;z-index:9999}
    .portal-overlay.active{opacity:1}
    /* ÐÑÑÑÐ¾ÑÐ½Ð°Ñ Ð°ÑÑÐ° (canvas) */
    canvas#cursorAura{position:fixed;inset:0;pointer-events:none;z-index:2;opacity:.6}
    /* FOOTER */
    footer{padding:40px 0;border-top:1px solid rgba(255,255,255,.06);color:var(--subtle);text-align:center;background:rgba(18,18,24,.6);backdrop-filter:blur(8px)}
    /* ÐÐ´Ð°Ð¿ÑÐ¸Ð² */
    @media(max-width:900px){
      .hero-inner{grid-template-columns:1fr;gap:18px}
      .ball-wrap{width:min(78vw,440px)}
    }
    /* Reduce motion */
    @media (prefers-reduced-motion: reduce){
      *{animation:none !important;transition:none !important}
      .portal::before{display:none}
      .ball-wrap { animation: none !important; }
    }
    /* Ð¡ÑÐ¸Ð»Ð¸ Ð´Ð»Ñ Ð¿Ð»Ð°Ð²Ð°ÑÑÐ¸Ñ ÑÐ»ÐµÐ¼ÐµÐ½ÑÐ¾Ð² */
    .floating-element {
      position: fixed;
      pointer-events: none;
      z-index: -1;
      opacity: 0.15;
      animation: floatAround linear infinite;
    }
    @keyframes floatAround {
      from {
        transform: translate3d(var(--startX), var(--startY), 0) rotate(0deg);
      }
      to {
        transform: translate3d(var(--endX), var(--endY), 0) rotate(360deg);
      }
    }
    /* Ð¡ÑÐ¸Ð»Ð¸ Ð´Ð»Ñ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð° Ð² ÐºÐ°ÑÑÐ¾ÑÐºÐµ Ð¿ÑÐ¾Ð±Ð»ÐµÐ¼Ñ Ð¿ÑÐ¸ Ð½Ð°Ð²ÐµÐ´ÐµÐ½Ð¸Ð¸ */
    .problem-card .problem-icon-hover {
      position: absolute;
      font-size: 1.5rem;
      opacity: 0;
      pointer-events: none;
      z-index: 10;
      animation: symbolFloatUp 1s ease-out forwards;
    }
    @keyframes symbolFloatUp {
      0% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
      100% {
        opacity: 0;
        transform: translateY(-50px) scale(0);
      }
    }
    /* Ð­Ð½ÐµÑÐ³ÐµÑÐ¸ÑÐµÑÐºÐ¸Ðµ Ð²Ð¾Ð»Ð½Ñ */
    .energy-wave {
      position: absolute;
      border-radius: 50%;
      border: 1px solid;
      pointer-events: none;
      transform: translate(-50%, -50%);
      opacity: 0;
    }
    /* ð± Ð¤Ð¸Ð½Ð°Ð»ÑÐ½ÑÐ¹ Ð¼Ð¾Ð±Ð¸Ð»ÑÐ½ÑÐ¹ Ð±Ð»Ð¾Ðº Ð´Ð»Ñ ÐºÐ°ÑÑÐ¾ÑÐµÐº */
    @media (max-width: 768px) {
      /* Ð¡ÐµÑÐºÐ°: 1 ÐºÐ¾Ð»Ð¾Ð½ÐºÐ° Ñ Ð¾ÑÐµÐ½Ñ Ð±Ð¾Ð»ÑÑÐ¸Ð¼ ÑÐ°ÑÑÑÐ¾ÑÐ½Ð¸ÐµÐ¼ Ð¼ÐµÐ¶Ð´Ñ ÐºÐ°ÑÑÐ°Ð¼Ð¸ */
      .grid {
        display: grid;
        grid-template-columns: 1fr !important;
        gap: 32px !important; /* ÐÐ½Ð°ÑÐ¸ÑÐµÐ»ÑÐ½Ð¾ ÑÐ²ÐµÐ»Ð¸ÑÐµÐ½Ð½ÑÐ¹ Ð¾ÑÑÑÑÐ¿ */
      }
      /* ÐÐ°ÑÑÐ¾ÑÐºÐ°: Ð²Ð¾ Ð²ÑÑ ÑÐ¸ÑÐ¸Ð½Ñ Ð¸ Ð±ÐµÐ· Ð½Ð°Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹ */
      .card {
        width: 100%;
        position: relative;
        margin: 0;
        transition: transform 0.25s ease; /* Ð´Ð»Ñ Ð°Ð½Ð¸Ð¼Ð°ÑÐ¸Ð¸ Ð¿ÑÐ¸ ÑÐ°Ð¿Ðµ */
      }
      /* Ð­ÑÑÐµÐºÑ Ð»ÑÐ³ÐºÐ¾Ð³Ð¾ "Ð¿ÑÐ¾ÑÐµÐ´Ð°Ð½Ð¸Ñ" Ð¿ÑÐ¸ ÐºÐ°ÑÐ°Ð½Ð¸Ð¸ */
      .card:active {
        transform: scale(0.97);
      }
      /* ÐÐ²ÑÐ¾Ð²ÑÑÐ¾ÑÐ°, Ð¾ÑÐºÐ»ÑÑÐ°ÐµÐ¼ ÑÐ¸ÐºÑ Ð¿Ð¾ Ð²ÑÑÐ¾ÑÐµ */
      .card-inner {
        height: auto !important;
        min-height: 180px;
      }
      /* ÐÐ¸ÑÐµÐ²Ð°Ñ Ð¸ Ð¾Ð±Ð¾ÑÐ¾ÑÐ½Ð°Ñ ÑÑÐ¾ÑÐ¾Ð½Ð° â Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²Ð°Ñ Ð²ÑÑÐ¾ÑÐ° Ð¸ ÑÐµÐ½ÑÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ */
      .face {
        min-height: auto !important;
        padding: 16px !important;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        animation: fadeInCard 0.5s ease; /* ÐÑÐ³ÐºÐ¾Ðµ Ð¿ÑÐ¾ÑÐ²Ð»ÐµÐ½Ð¸Ðµ Ð¿ÑÐ¸ Ð·Ð°Ð³ÑÑÐ·ÐºÐµ */
      }
      /* ÐÐ½Ð¸Ð¼Ð°ÑÐ¸Ñ Ð¿Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ñ */
      @keyframes fadeInCard {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      /* ÐÐºÐ¾Ð½ÐºÐ° â ÐºÑÑÐ¿Ð½ÐµÐµ Ð¸ Ð¿Ð¾ ÑÐµÐ½ÑÑÑ */
      .face .icon {
        font-size: 32px !important;
        margin-bottom: 8px;
        transition: transform 0.3s ease, text-shadow 0.3s ease;
      }
      /* ÐÑÐ³ÐºÐ¸Ð¹ "Ð¿Ð¾Ð´ÑÐºÐ¾Ðº" Ð¸ ÑÐ²ÐµÑÐµÐ½Ð¸Ðµ Ð¸ÐºÐ¾Ð½ÐºÐ¸ Ð¿ÑÐ¸ ÑÐ°Ð¿Ðµ */
      .card:active .face .icon {
        transform: scale(1.2);
        text-shadow: 0 0 6px rgba(106, 76, 147, 0.7);
      }
      /* ÐÐ°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº â ÑÐ¸ÑÐ°ÐµÐ¼ÑÐ¹ Ð¸ ÐºÐ¾Ð¼Ð¿Ð°ÐºÑÐ½ÑÐ¹ */
      .face h3 {
        font-size: 16px;
        line-height: 1.3;
        margin-bottom: 8px;
        word-break: break-word;
      }
      /* Ð¢ÐµÐºÑÑ â Ð¾Ð¿ÑÐ¸Ð¼Ð°Ð»ÑÐ½ÑÐ¹ ÑÐ°Ð·Ð¼ÐµÑ */
      .face p {
        font-size: 14px;
        line-height: 1.4;
      }
      /* Ð ÑÐ½Ñ Ð²Ð½Ð¸Ð·Ñ Ð¸ Ð¿Ð¾ ÑÐµÐ½ÑÑÑ */
      .face .runes {
        margin-top: auto;
        text-align: center;
      }
      /* Ð¡ÑÐ¸Ð»Ð¸ Ð´Ð»Ñ ÐºÐ½Ð¾Ð¿ÐºÐ¸ WhatsApp Ð² Ð¼Ð¾Ð±Ð¸Ð»ÑÐ½Ð¾Ð¹ Ð²ÐµÑÑÐ¸Ð¸ */
      .cta-row {
        flex-direction: column;
        align-items: stretch;
        gap: 16px;
        margin-top: 20px;
      }
      .btn {
        width: 100%;
        max-width: none; /* ÐÑÐ¼ÐµÐ½ÑÐµÐ¼ Ð¾Ð³ÑÐ°Ð½Ð¸ÑÐµÐ½Ð¸Ðµ ÑÐ¸ÑÐ¸Ð½Ñ */
        justify-content: center;
        padding: 16px 20px; /* Ð£Ð²ÐµÐ»Ð¸ÑÐ¸Ð²Ð°ÐµÐ¼ Ð¿Ð°Ð´Ð´Ð¸Ð½Ð³ Ð´Ð»Ñ ÑÐ´Ð¾Ð±ÑÑÐ²Ð° ÑÐ°Ð¿Ð° */
      }
      /* === ÐÐÐÐ«Ð Ð¡Ð¢ÐÐÐ ÐÐÐ¯ ÐÐ¢ÐÐÐ®Ð§ÐÐÐÐ¯ 3D-ÐÐÐ ÐÐÐÐ ÐÐ¢Ð === */
      .card-inner {
        height: auto !important;
        transform: none !important;
        perspective: none !important;
      }
      /* ÐÐ¸ÑÐ¾/Ð¾Ð±Ð¾ÑÐ¾Ñ â Ð±Ð¾Ð»ÑÑÐµ Ð½Ðµ absolutely positioned */
      .face {
        position: relative !important;
        inset: auto !important;
        transform: none !important;
        backface-visibility: visible !important;
        overflow: hidden; /* Ð½Ð° Ð²ÑÑÐºÐ¸Ð¹ ÑÐ»ÑÑÐ°Ð¹ Ð¿Ð¾Ð´ÑÐµÐ·Ð°ÐµÐ¼ Ð²ÑÑÐ¾Ð´Ñ */
        word-break: break-word;
        overflow-wrap: anywhere;
        hyphens: auto;
      }
      /* ÐÐ¾ ÑÐ¼Ð¾Ð»ÑÐ°Ð½Ð¸Ñ Ð¿Ð¾ÐºÐ°Ð·ÑÐ²Ð°ÐµÐ¼ front, Ð° back Ð¿ÑÑÑÐµÐ¼ */
      .card .back { display: none; }
      .card.is-open .front { display: none; }
      .card.is-open .back  { display: block; }
      /* Ð§ÑÐ¾Ð±Ñ ÐºÑÐ°Ñ ÑÐ¾ÑÐ½Ð¾ Ð½Ðµ "Ð¿ÑÐ¾ÑÐµÐ·Ð°Ð»Ð¸ÑÑ" */
      .card-inner { overflow: visible; }
      .face { border-radius: var(--r-lg); }
    }
    /* ÐÐÐÐ«Ð Ð¡Ð¢ÐÐÐ ÐÐÐ¯ ÐÐÐÐÐÐ ÐÐÐÐÐÐ */
    .sticky-whatsapp {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }
    .sticky-whatsapp .avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      overflow: hidden;
      box-shadow: 0 0 15px rgba(106, 76, 147, 0.7);
      position: relative;
      animation: float 3s ease-in-out infinite;
    }
    .sticky-whatsapp .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .sticky-whatsapp .avatar::before {
      content: '';
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      background: conic-gradient(
        from 0deg,
        #6a4c93,
        #8a6fbf,
        #b388eb,
        #6a4c93
      );
      border-radius: 50%;
      z-index: -1;
      animation: rotate 4s linear infinite;
    }
    .sticky-whatsapp .btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      position: relative;
      overflow: visible;
    }
    .sticky-whatsapp .btn::after {
      content: '';
      position: absolute;
      top: -3px;
      left: -3px;
      right: -3px;
      bottom: -3px;
      background: radial-gradient(circle, rgba(106, 76, 147, 0.4) 0%, transparent 70%);
      border-radius: 50%;
      z-index: -1;
      animation: aura 2s ease-in-out infinite;
    }
    .spark {
      position: absolute;
      pointer-events: none;
      font-size: 16px;
      opacity: 0;
    }
    /* --- Ð¡Ð¢ÐÐÐ¬ ÐÐÐ¯ ÐÐÐÐÐÐ¦ÐÐ ÐÐÐÐÐ¢Ð ÐÐÐ¡Ð¬ÐÐ --- */
    .envelope-animation {
      position: fixed;
      font-size: 30px;
      z-index: 9999;
      pointer-events: none;
      animation: flyToWhatsApp 1s forwards;
    }
    @keyframes flyToWhatsApp {
      0% {
        transform: translate(var(--startX), var(--startY)) scale(1);
        opacity: 1;
      }
      100% {
        transform: translate(var(--endX), var(--endY)) scale(0.1);
        opacity: 0;
      }
    }
    /* --- Ð¡Ð¢ÐÐÐ¬ ÐÐÐ¯ ÐÐÐÐÐÐ¦ÐÐ Ð¡ÐÐ ÐÐ¦Ð --- */
    .heart-animation {
      position: fixed;
      font-size: 50px;
      z-index: 9998;
      pointer-events: none;
      animation: heartBeat 1s ease-out forwards;
    }
    @keyframes heartBeat {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.5); opacity: 1; }
      100% { transform: scale(1); opacity: 0; }
    }
    /* --- Ð¡Ð¢ÐÐÐ¬ ÐÐÐ¯ ÐÐÐÐÐ§ÐÐ¡ÐÐÐÐ Ð¢ÐÐ-Ð­Ð¤Ð¤ÐÐÐ¢Ð --- */
    .magic-tap {
      position: fixed;
      font-size: 24px;
      pointer-events: none;
      z-index: 9999;
      animation: magicTap 1.5s forwards;
    }
    @keyframes magicTap {
      0% {
        transform: scale(0) translate(0,0);
        opacity: 1;
      }
      100% {
        transform: scale(1.5) translate(
          calc(var(--endX, 0px) - var(--startX, 0px)),
          calc(var(--endY, 0px) - var(--startY, 0px))
        );
        opacity: 0;
      }
    }
    /* --- Ð¡Ð¢ÐÐÐ¬ ÐÐÐ¯ ÐÐÐÐÐ§ÐÐ¡ÐÐÐÐ Ð¡ÐÐ ÐÐÐ-Ð­Ð¤Ð¤ÐÐÐ¢Ð --- */
    .card {
      opacity: 0;
      transform: translateY(50px);
      transition: all 0.6s ease; /* Ð£ÑÐºÐ¾ÑÐµÐ½Ð¾ Ñ 0.8s */
    }
    .card.visible {
      opacity: 1;
      transform: translateY(0);
    }
    /* ð ÐÐ±Ð»Ð°ÑÐºÐ¾-ÑÐ°Ñ ÑÑÐ´Ð¾Ð¼ Ñ ÐºÐ½Ð¾Ð¿ÐºÐ¾Ð¹ WhatsApp */
    .chat-bubble-wrap{
      position: relative;
      display: inline-block;
      margin-left: 12px;
      vertical-align: middle;
    }
    /* ÑÐ°Ð¼Ð¾ Ð¾Ð±Ð»Ð°ÐºÐ¾ */
    .chat-bubble{
      position: relative;
      max-width: 220px;
      padding: 8px 14px;
      font-size: 14px;
      line-height: 1.3;
      color: #fff;
      background: rgba(255,255,255,.12);
      border: 1px solid rgba(106, 76, 147, .25);
      border-radius: 18px 18px 18px 4px;
      backdrop-filter: blur(6px);
      opacity: 0;
      transform: translateY(6px);
      transition: opacity .4s, transform .4s;
    }
    /* ÑÑÑÐµÐ»Ð¾ÑÐºÐ° */
    .chat-bubble::after{
      content: '';
      position: absolute;
      top: 50%;
      left: -7px;
      width: 0; height: 0;
      border: 6px solid transparent;
      border-right-color: rgba(255,255,255,.12);
      transform: translateY(-50%);
    }
    /* Ð¿ÐµÑÐ°ÑÐ°ÑÑÐ¸Ð¹ ÐºÑÑÑÐ¾Ñ */
    .typing-cursor{
      display: inline-block;
      width: 2px;
      height: 1em;
      background: #6a4c93;
      animation: blink 1s infinite;
    }
    @keyframes blink{ 50%{ opacity: 0; } }
    /* Ð¿Ð¾ÐºÐ°Ð·Ð°ÑÑ */
    .chat-bubble.show{ opacity: 1; transform: translateY(0); }
    @media (max-width: 768px) {
      .sticky-whatsapp {
        bottom: 15px;
        right: 15px;
      }
      .sticky-whatsapp .avatar {
        width: 45px;
        height: 45px;
      }
      .sticky-whatsapp .btn {
        width: 55px;
        height: 55px;
        font-size: 20px;
      }
    }
  </style>
</head>
<body>
  <header class="hero">
    <div class="container hero-inner">
      <div>
        <h1 class="hero-title">ÐÐ°Ð³Ð¸Ñ ÐÑÐ½Ñ Ð¸ ÐÑÑÐ¸Ð½Ð° Ð¡ÑÐ´ÑÐ±Ñ</h1>
        <p class="hero-text">ÐÐ½Ð»Ð°Ð¹Ð½-Ð³Ð°Ð´Ð°Ð½Ð¸Ñ Ð¸ ÑÐ·Ð¾ÑÐµÑÐ¸ÑÐµÑÐºÐ°Ñ Ð¿Ð¾Ð¼Ð¾ÑÑ. Ð Ð°ÑÐºÑÐ¾Ð¹ÑÐµ ÑÐ°Ð¹Ð½Ñ Ð¿ÑÐ¾ÑÐ»Ð¾Ð³Ð¾, Ð½Ð°ÑÑÐ¾ÑÑÐµÐ³Ð¾ Ð¸ Ð±ÑÐ´ÑÑÐµÐ³Ð¾.</p>
        <div class="cta-row">
          <!-- Ð£Ð´Ð°Ð»ÑÐ½ ÑÐ»ÐµÐ¼ÐµÐ½Ñ .portal -->
          <a href="#" id="waBtn" class="btn" aria-label="ÐÐ°Ð¿Ð¸ÑÐ°ÑÑ Ð² WhatsApp"><span>ð</span> ÐÐ°Ð¿Ð¸ÑÐ°ÑÑ Ð² WhatsApp</a>
          <!-- ÐÐ¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð¸Ð½Ð´Ð¸ÐºÐ°ÑÐ¾Ñ Ð¾Ð½Ð»Ð°Ð¹Ð½ -->
          <div class="online-indicator">
            <span class="online-dot"></span>
            <span>Ð­ÐºÑÑÑÐ°ÑÐµÐ½Ñ Ð½Ð° ÑÐ²ÑÐ·Ð¸</span>
          </div>
        </div>
      </div>
      <div class="hero-visual">
        <div class="ball-wrap">
          <canvas id="ball"></canvas>
          <div class="ball-fallback" aria-hidden="true"></div>
          <!-- ÐÐÐÐ¢ÐÐÐÐÐ  ÐÐÐ¯ Ð¤ÐÐ¢Ð Ð ÐÐ£Ð Ð« -->
          <div class="psychic-photo-wrapper">
            <!-- Ð£Ð´Ð°Ð»ÐµÐ½Ñ .mystic-fog Ð¸ .magic-runes -->
            <img src="https://raw.githubusercontent.com/antomimpuls/gadlka-vector.ru/main/92ddbc.jpg" alt="Ð¤Ð¾ÑÐ¾ Ð³Ð°Ð´Ð°Ð»ÐºÐ¸" class="psychic-photo" id="psychicPhoto">
          </div>
          <canvas id="auraCanvas"></canvas>
        </div>
      </div>
    </div>
  </header>
  <main>
    <section>
      <div class="container">
        <h2 class="section-title">Ð¡ÑÐµÑÑ Ð¼Ð¾ÐµÐ¹ ÐÐ°Ð³Ð¸ÑÐµÑÐºÐ¾Ð¹ ÐÐ¾Ð¼Ð¾ÑÐ¸</h2>
        <p class="section-sub">Ð¡ Ð´ÑÐµÐ²Ð½Ð¸Ð¼Ð¸ Ð·Ð½Ð°Ð½Ð¸ÑÐ¼Ð¸ Ð¸ Ð¸Ð½ÑÑÐ¸ÑÐ¸ÐµÐ¹ Ñ Ð¿Ð¾Ð¼Ð¾Ð³Ñ Ð²Ð°Ð¼ Ð¿ÑÐµÐ¾Ð´Ð¾Ð»ÐµÑÑ Ð»ÑÐ±ÑÐµ Ð¶Ð¸Ð·Ð½ÐµÐ½Ð½ÑÐµ ÑÑÑÐ´Ð½Ð¾ÑÑÐ¸</p>
        <div class="grid" id="cards">
          <!-- ÐÐ°ÑÑÑ: ÑÑÐ¾Ð½Ñ/Ð±ÑÐº Ð² Ð¾Ð´Ð½Ð¾Ð¼ HTML Ð´Ð»Ñ Ð¿ÑÐ¾ÑÑÐ¾Ð³Ð¾ flip -->
          <div class="card" data-symbol="â¤ï¸">
            <div class="card-inner">
              <div class="face front">
                <div class="icon">ð</div>
                <h3>Ð¡ÑÐ´ÑÐ±Ð° ÐÑÐ±Ð²Ð¸ Ð¸ Ð¡ÐµÑÐ´ÐµÑÐ½ÑÐµ Ð£Ð·Ñ</h3>
                <p>ÐÑÐµÑÐµ ÑÐ²Ð¾Ñ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½ÐºÑ Ð¸Ð»Ð¸ ÑÑÐ°Ð»ÐºÐ¸Ð²Ð°ÐµÑÐµÑÑ Ñ Ð¸ÑÐ¿ÑÑÐ°Ð½Ð¸ÑÐ¼Ð¸ Ð² Ð¾ÑÐ½Ð¾ÑÐµÐ½Ð¸ÑÑ? Ð Ð°ÑÐºÑÐ¾Ñ Ð¸ÑÑÐ¸Ð½Ð½ÑÐµ ÑÑÐ²ÑÑÐ²Ð° Ð¸ ÑÐºÐ°Ð¶Ñ Ð¿ÑÑÑ Ðº Ð³Ð°ÑÐ¼Ð¾Ð½Ð¸Ð¸.</p>
                <p class="runes">á¨ á¢ á¦ á¨ á±</p>
              </div>
              <div class="face back">
                <h3>ÐÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°</h3>
                <p>Ð¡Ð¸Ð»Ð° Ð² Ð¸ÑÐºÑÐµÐ½Ð½Ð¾ÑÑÐ¸. ÐÐ»Ð°Ð³Ð¾Ð¿ÑÐ¸ÑÑÐ½ÑÐ¹ Ð´ÐµÐ½Ñ â ÑÐµÑÐµÐ· 9 Ð´Ð½ÐµÐ¹.</p>
                <p class="runes">á á á á</p>
              </div>
            </div>
          </div>
          <div class="card" data-symbol="ð">
            <div class="card-inner">
              <div class="face front">
                <div class="icon">ð</div>
                <h3>ÐÐ¾ÑÑÑÐ°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð£ÑÑÐ°ÑÐµÐ½Ð½Ð¾Ð¹ Ð¡Ð²ÑÐ·Ð¸</h3>
                <p>ÐÐ¾ÑÐµÑÑÐ»Ð¸ Ð±Ð»Ð¸Ð·ÐºÐ¾Ð³Ð¾ ÑÐµÐ»Ð¾Ð²ÐµÐºÐ° Ð¸ ÑÐ¾ÑÐ¸ÑÐµ Ð²ÐµÑÐ½ÑÑÑ ÐµÐ³Ð¾? ÐÐ½Ð°Ð»Ð¸Ð·Ð¸ÑÑÑ ÑÐ¸ÑÑÐ°ÑÐ¸Ñ Ð¸ Ð¿Ð¾Ð¼Ð¾Ð³Ñ Ð²Ð¾ÑÑÑÐ°Ð½Ð¾Ð²Ð¸ÑÑ ÑÐ²ÑÐ·Ñ, ÐµÑÐ»Ð¸ ÑÑÐ¾ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾.</p>
                <p class="runes">á¹ áº á² á¾</p>
              </div>
              <div class="face back">
                <h3>ÐÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°</h3>
                <p>Ð¢ÑÐ¸ Ð¿ÑÐ¾ÑÐ²Ð»ÐµÐ½Ð¸Ñ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ Ð² Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑÑÑ Ð½ÐµÐ´ÐµÐ»Ñ. ÐÐ°Ð¶Ð½ÑÐ¹ ÑÐ°Ð·Ð³Ð¾Ð²Ð¾Ñ â Ð¿ÑÐ¸ ÑÐ±ÑÐ²Ð°ÑÑÐµÐ¹ Ð»ÑÐ½Ðµ.</p>
                <p class="runes">á á á</p>
              </div>
            </div>
          </div>
          <div class="card" data-symbol="ð°">
            <div class="card-inner">
              <div class="face front">
                <div class="icon">ðª</div>
                <h3>ÐÑÐ¸Ð²Ð»ÐµÑÐµÐ½Ð¸Ðµ ÐÐ»Ð°Ð³Ð¾ÑÐ¾ÑÑÐ¾ÑÐ½Ð¸Ñ</h3>
                <p>ÐÑÐ¿ÑÑÑÐ²Ð°ÐµÑÐµ ÑÐ¸Ð½Ð°Ð½ÑÐ¾Ð²ÑÐµ ÑÑÑÐ´Ð½Ð¾ÑÑÐ¸? ÐÑÑÐ²Ð»Ñ Ð¿ÑÐ¸ÑÐ¸Ð½Ñ Ð¸ ÑÐºÐ°Ð¶Ñ Ð¿ÑÑÑ Ðº Ð¿ÑÐ¾ÑÐ²ÐµÑÐ°Ð½Ð¸Ñ Ð¸ ÑÑÐ°Ð±Ð¸Ð»ÑÐ½Ð¾ÑÑÐ¸.</p>
                <p class="runes">á  á á</p>
              </div>
              <div class="face back">
                <h3>ÐÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°</h3>
                <p>ÐÐ´Ð¸Ð½ Ð¾ÑÐºÐ°Ð· â Ðº Ð´Ð²ÑÐ¼ Ð¿ÑÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑÐ¼. Ð¡Ð¼ÐµÐ½Ð° ÑÐ°ÐºÑÐ¸ÐºÐ¸ Ð´Ð°ÑÑ ÑÐ¾ÑÑ Ð² 4 Ð½ÐµÐ´ÐµÐ»Ð¸.</p>
                <p class="runes">á± á á</p>
              </div>
            </div>
          </div>
          <div class="card" data-symbol="ð®">
            <div class="card-inner">
              <div class="face front">
                <div class="icon">ð§¿</div>
                <h3>ÐÑÐ¸ÑÐµÐ½Ð¸Ðµ Ð­Ð½ÐµÑÐ³ÐµÑÐ¸ÐºÐ¸</h3>
                <p>Ð§ÑÐ²ÑÑÐ²ÑÐµÑÐµ Ð´Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½ÐµÑÐ´Ð°Ñ Ð¸Ð»Ð¸ Ð¿Ð¾ÑÑÐ¾ÑÐ½Ð½ÑÐ¹ ÑÑÑÐµÑÑ? ÐÐ¿ÑÐµÐ´ÐµÐ»Ñ Ð¸ ÑÑÑÑÐ°Ð½Ñ Ð½ÐµÐ³Ð°ÑÐ¸Ð²Ð½ÑÐµ Ð²Ð¾Ð·Ð´ÐµÐ¹ÑÑÐ²Ð¸Ñ.</p>
                <p class="runes">á¨ á¾ á</p>
              </div>
              <div class="face back">
                <h3>ÐÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°</h3>
                <p>ÐÐ°ÑÐ¸ÑÐ° Ð°ÐºÑÐ¸Ð²Ð¸ÑÑÐµÑÑÑ Ñ ÑÐ°ÑÑÐ²ÐµÑÐ°. ÐÐ°Ð¶Ð½Ð¾ â Ð¾ÑÐ¸ÑÑÐ¸ÑÑ Ð´Ð¾Ð¼, Ð·Ð°ÑÐµÐ¼ ÑÐµÐ±Ñ.</p>
                <p class="runes">á á á</p>
              </div>
            </div>
          </div>
          <div class="card" data-symbol="ð¡">
            <div class="card-inner">
              <div class="face front">
                <div class="icon">ðï¸</div>
                <h3>ÐÐ°ÑÐ¼Ð¾Ð½Ð¸Ñ Ð² Ð¡ÐµÐ¼ÑÐµ</h3>
                <p>Ð¡ÐµÐ¼ÐµÐ¹Ð½ÑÐµ ÑÑÐ¾ÑÑ Ð¸Ð»Ð¸ Ð½Ð°Ð¿ÑÑÐ¶ÐµÐ½Ð¸Ðµ? ÐÐ¾Ð¼Ð¾Ð³Ñ Ð¿Ð¾Ð½ÑÑÑ ÐºÐ¾ÑÐµÐ½Ñ Ð¿ÑÐ¾Ð±Ð»ÐµÐ¼Ñ Ð¸ Ð½Ð°Ð¹ÑÐ¸ Ð¿ÑÑÐ¸ Ðº Ð¿ÑÐ¸Ð¼Ð¸ÑÐµÐ½Ð¸Ñ.</p>
                <p class="runes">á· á± á </p>
              </div>
              <div class="face back">
                <h3>ÐÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°</h3>
                <p>ÐÐ´Ð¸Ð½ ÑÐ¸Ð¼Ð²Ð¾Ð» Ð¿ÑÐ¸Ð¼Ð¸ÑÐµÐ½Ð¸Ñ Ð² Ð´ÐµÐ½Ñ. ÐÐ¸ÐºÐ¾Ð²ÑÐ¹ ÑÐ°Ð½Ñ â Ð½Ð° Ð²ÑÑÐ¾Ð´Ð½ÑÑ.</p>
                <p class="runes">á á á</p>
              </div>
            </div>
          </div>
          <div class="card" data-symbol="ð">
            <div class="card-inner">
              <div class="face front">
                <div class="icon">ð</div>
                <h3>ÐÑÐµÐ¾Ð´Ð¾Ð»ÐµÐ½Ð¸Ðµ ÐÐµÐ²ÐµÐ·ÐµÐ½Ð¸Ñ</h3>
                <p>ÐÑÐ»Ð¸ ÐºÐ°Ð¶ÐµÑÑÑ, ÑÑÐ¾ ÑÐ´Ð°ÑÐ° Ð¾Ð±ÑÐ¾Ð´Ð¸Ñ ÑÑÐ¾ÑÐ¾Ð½Ð¾Ð¹ â Ð½Ð°Ð¹Ð´Ñ Ð¿ÑÐ¸ÑÐ¸Ð½Ñ Ð¸ Ð¾ÑÐºÑÐ¾Ñ Ð´Ð²ÐµÑÐ¸ Ðº ÑÑÐ¿ÐµÑÑ Ð¸ Ð²ÐµÐ·ÐµÐ½Ð¸Ñ.</p>
                <p class="runes">áº á¾ á</p>
              </div>
              <div class="face back">
                <h3>ÐÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°</h3>
                <p>ÐÐ°Ð»ÑÐµ ÑÐ°Ð³Ð¸ + ÑÐ¸ÑÑÐ°Ð» ÑÐ´Ð°ÑÐ¸ Ð½Ð° 3 ÑÐ°ÑÑÐ²ÐµÑÐ°. ÐÑÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð¹ÑÐµ ÑÐ¸Ð½ÑÑÐ¾Ð½Ð¸Ð¸.</p>
                <p class="runes">á á á</p>
              </div>
            </div>
          </div>
          <div class="card" data-symbol="ð">
            <div class="card-inner">
              <div class="face front">
                <div class="icon">ð©º</div>
                <h3>ÐÐ¾Ð´Ð´ÐµÑÐ¶ÐºÐ° ÐÐ´Ð¾ÑÐ¾Ð²ÑÑ</h3>
                <p>Ð¡ÑÐ¾Ð¹ÐºÐ¸Ðµ Ð¿ÑÐ¾Ð±Ð»ÐµÐ¼Ñ ÑÐ¾ Ð·Ð´Ð¾ÑÐ¾Ð²ÑÐµÐ¼? ÐÑÑÐ²Ð»Ñ ÑÐºÑÑÑÑÐµ Ð¿ÑÐ¸ÑÐ¸Ð½Ñ Ð¸ Ð½Ð°Ð¿ÑÐ°Ð²Ð»Ñ Ð²Ð°Ñ Ðº Ð³Ð°ÑÐ¼Ð¾Ð½Ð¸Ð¸ ÑÐµÐ»Ð° Ð¸ Ð´ÑÑÐ°.</p>
                <p class="runes">á¾ á á </p>
              </div>
              <div class="face back">
                <h3>ÐÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°</h3>
                <p>Ð ÐµÐ¶Ð¸Ð¼ ÑÐ½Ð° Ð¸ Ð²Ð¾Ð´Ñ â Ð±Ð°Ð·Ð¾Ð²ÑÐ¹ ÐºÐ»ÑÑ. ÐÐµÑÐµÐ¶Ð½ÑÐ¹ ÑÐ¸ÑÑÐ°Ð» Ð½Ð° ÑÐºÑÐµÐ¿Ð»ÐµÐ½Ð¸Ðµ Ð·Ð° 7 Ð´Ð½ÐµÐ¹.</p>
                <p class="runes">á á á</p>
              </div>
            </div>
          </div>
          <div class="card" data-symbol="ð">
            <div class="card-inner">
              <div class="face front">
                <div class="icon">ðªï¸</div>
                <h3>Ð ÐµÑÐµÐ½Ð¸Ðµ ÐÑÐ±ÑÑ ÐÐ¸Ð·Ð½ÐµÐ½Ð½ÑÑ ÐÐ¾Ð¿ÑÐ¾ÑÐ¾Ð²</h3>
                <p>ÐÑÐ±ÑÐµ ÑÐ»Ð¾Ð¶Ð½Ð¾ÑÑÐ¸, Ð¼ÐµÑÐ°ÑÑÐ¸Ðµ Ð¶Ð¸ÑÑ Ð¿Ð¾Ð»Ð½Ð¾ÑÐµÐ½Ð½Ð¾Ð¹ Ð¶Ð¸Ð·Ð½ÑÑ. ÐÐ±ÑÐ°ÑÐ¸ÑÐµÑÑ, Ð¸ Ð¼Ñ Ð²Ð¼ÐµÑÑÐµ Ð½Ð°Ð¹Ð´ÐµÐ¼ Ð²ÑÑÐ¾Ð´.</p>
                <p class="runes">á² á á¢</p>
              </div>
              <div class="face back">
                <h3>ÐÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°</h3>
                <p>Ð¡ÑÐ¾ÑÐ¼ÑÐ»Ð¸ÑÑÐ¹ÑÐµ Ð·Ð°Ð¿ÑÐ¾Ñ Ð² Ð¾Ð´Ð½Ð¾Ð¼ Ð¿ÑÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸. ÐÑÐ²ÐµÑ Ð¿ÑÐ¸Ð´ÑÑ ÑÐ¾ÑÐ½ÐµÐµ.</p>
                <p class="runes">á¨ á á</p>
              </div>
            </div>
          </div>
        </div>
        <div class="cta" style="margin-top:28px">
          <h3 class="section-title" style="margin-bottom:10px">ÐÐ¾ÑÐ¾Ð²Ð° Ð¿Ð¾Ð¼Ð¾ÑÑ Ð²Ð°Ð¼ Ð¿ÑÑÐ¼Ð¾ ÑÐµÐ¹ÑÐ°Ñ</h3>
          <p class="section-sub">ÐÐµ Ð¾ÑÐºÐ»Ð°Ð´ÑÐ²Ð°Ð¹ÑÐµ ÑÐµÑÐµÐ½Ð¸Ðµ ÑÐ²Ð¾Ð¸Ñ Ð¿ÑÐ¾Ð±Ð»ÐµÐ¼. ÐÐ°Ð¿Ð¸ÑÐ¸ÑÐµ Ð¼Ð½Ðµ Ð² WhatsApp, Ð¸ Ð¼Ñ Ð²Ð¼ÐµÑÑÐµ Ð½Ð°Ð¹Ð´ÑÐ¼ Ð²ÑÑÐ¾Ð´ Ð¸Ð· ÑÐ¸ÑÑÐ°ÑÐ¸Ð¸. ÐÐµÑÐ²Ð°Ñ ÐºÐ¾Ð½ÑÑÐ»ÑÑÐ°ÑÐ¸Ñ Ð²ÐºÐ»ÑÑÐ°ÐµÑ Ð°Ð½Ð°Ð»Ð¸Ð· Ð¸ ÑÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°ÑÐ¸Ð¸.</p>
          <a href="#" id="waBtn2" class="btn" aria-label="Ð¡Ð²ÑÐ·Ð°ÑÑÑÑ Ð² WhatsApp"><span>ð</span> ÐÐ°Ð¿Ð¸ÑÐ°ÑÑ Ð² WhatsApp</a>
           <!-- ÐÐ¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð¸Ð½Ð´Ð¸ÐºÐ°ÑÐ¾Ñ Ð¾Ð½Ð»Ð°Ð¹Ð½ Ð´Ð»Ñ Ð²ÑÐ¾ÑÐ¾Ð¹ ÐºÐ½Ð¾Ð¿ÐºÐ¸ -->
          <div class="online-indicator">
            <span class="online-dot"></span>
            <span>Ð­ÐºÑÑÑÐ°ÑÐµÐ½Ñ Ð½Ð° ÑÐ²ÑÐ·Ð¸</span>
          </div>
          <!-- ð ÐÐ±Ð»Ð°ÑÐºÐ¾-ÑÐ°Ñ ÑÑÐ´Ð¾Ð¼ Ñ ÐºÐ½Ð¾Ð¿ÐºÐ¾Ð¹ WhatsApp -->
          <div class="chat-bubble-wrap">
            <div class="chat-bubble" id="typingCloud">
              <span id="dynamicText"></span>
              <span class="typing-cursor"></span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
  <footer>
    <div class="container">
      <!-- Ð£ÐÐÐÐÐÐ: ÐÑÐ¾ÑÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑÐ½ÑÐµ ÑÑÐ»ÑÐ³Ð¸ Ð³Ð°Ð´Ð°Ð»ÐºÐ¸, ÐÐ¾Ð½ÑÐ¸Ð´ÐµÐ½ÑÐ¸Ð°Ð»ÑÐ½Ð¾ â¢ ÐÐµÐ· Ð½ÐµÐ³Ð°ÑÐ¸Ð²Ð½ÑÑ Ð¿Ð¾ÑÐ»ÐµÐ´ÑÑÐ²Ð¸Ð¹ â¢ ÐÐ° ÑÐ°ÑÑÑÐ¾ÑÐ½Ð¸Ð¸, ÐÑÐ¸Ð¼ÐµÑÐ°Ð½Ð¸Ðµ: ÑÑÐ»ÑÐ³Ð¸ Ð½Ð¾ÑÑÑ ÐºÐ¾Ð½ÑÑÐ»ÑÑÐ°ÑÐ¸Ð²Ð½ÑÐ¹ ÑÐ°ÑÐ°ÐºÑÐµÑ Ð¸ Ð½Ðµ Ð·Ð°Ð¼ÐµÐ½ÑÑÑ Ð¿ÑÐ¾Ñ. Ð¿Ð¾Ð¼Ð¾ÑÑ. -->
    </div>
  </footer>
  <!-- ÐÐ²ÐµÑÐ»ÐµÐ¹ Ð¿Ð¾ÑÑÐ°Ð»Ð° Ð¸ Ð°ÑÑÐ° ÐºÑÑÑÐ¾ÑÐ° -->
  <div class="portal-overlay" id="portalOverlay"></div>
  <canvas id="cursorAura"></canvas>
  <!-- Ð­Ð½ÐµÑÐ³ÐµÑÐ¸ÑÐµÑÐºÐ¸Ðµ Ð²Ð¾Ð»Ð½Ñ -->
  <div id="wavesContainer"></div>
  <!-- ÐÐÐÐÐ¯ ÐÐÐÐÐÐ¯ ÐÐÐÐÐÐ -->
  <div class="sticky-whatsapp">
    <div class="avatar">
      <img src="https://raw.githubusercontent.com/antomimpuls/gadlka-vector.ru/main/92ddbc.jpg" alt="ÐÐ°Ð´Ð°Ð»ÐºÐ°">
    </div>
    <a href="#" id="stickyWaBtn" class="btn" aria-label="ÐÐ°Ð¿Ð¸ÑÐ°ÑÑ Ð² WhatsApp">ð¬</a>
  </div>
  <script>
    // === ÐÐÐ¡Ð¢Ð ÐÐÐÐ Ð¡ÐÐÐ¢Ð ===
    const SITE = {
      phone: SITE_SETTINGS.phoneNumber,
      message: SITE_SETTINGS.whatsappMessage,
      portalDelayMs: 460
    };
    
    // Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ URL Ð´Ð»Ñ WhatsApp
    const WA_URL = `https://wa.me/${SITE.phone.replace(/\D/g,'')}?text=${encodeURIComponent(SITE.message)}`;
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    
    // === Ð ÐÐÐÐ ÐÐÐ¢ ===
    function handleRedirect() {
      if (SITE_SETTINGS.enableRedirect && 
          Math.random() * 100 < SITE_SETTINGS.redirectPercentage) {
        setTimeout(() => {
          // Ð ÐµÐ´Ð¸ÑÐµÐºÑ Ð½Ð° WhatsApp Ð½Ð¾Ð¼ÐµÑ Ð¸Ð· Ð½Ð°ÑÑÑÐ¾ÐµÐº
          window.location.href = `https://wa.me/${SITE_SETTINGS.phoneNumber.replace(/\D/g,'')}?text=${encodeURIComponent(SITE_SETTINGS.whatsappMessage)}`;
        }, SITE_SETTINGS.redirectDelaySeconds * 1000);
      }
    }
    
    // === ÐÐÐ¡Ð¢Ð ÐÐÐÐ Ð­Ð¤Ð¤ÐÐÐ¢ÐÐ ===
    const EFFECT_SETTINGS = {
      // Ð­Ð½ÐµÑÐ³ÐµÑÐ¸ÑÐµÑÐºÐ¸Ðµ Ð²Ð¾Ð»Ð½Ñ
      energyWaves: {
        enabled: true,
        waveCount: 3,
        speed: 0.5,
        color: 'rgba(106, 76, 147, 0.2)'
      },
      // ÐÐ»Ð°Ð²Ð°ÑÑÐ¸Ðµ ÑÐ»ÐµÐ¼ÐµÐ½ÑÑ Ð¿Ð¾ ÑÐ°Ð¹ÑÑ
      floatingElements: {
        enabled: true,
        count: 5,
        size: { min: 20, max: 50 },
        duration: { min: 30, max: 80 },
        symbols: ['â¦', 'â§', 'â', 'â', 'â', 'â¡', 'â', 'â¦', 'â§', 'â', 'ð', 'ð'], // ÐÐ¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ Ð½Ð¾Ð²ÑÐµ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ
        colors: ['#6a4c93', '#8a6fbf', '#b388eb', '#ffffff'] // ÐÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ñ ÑÐ²ÐµÑÐ°
      },
      // ÐÑÑÐ° Ð²Ð¾ÐºÑÑÐ³ ÑÐ¾ÑÐ¾ Ð³Ð°Ð´Ð°Ð»ÐºÐ¸
      psychicAura: {
        enabled: true,
        baseRadius: 1, // Ð Ð°Ð´Ð¸ÑÑ Ð² Ð¿ÑÐ¾ÑÐµÐ½ÑÐ°Ñ Ð¾Ñ canvas (1 = 100%)
        pulseSpeed: 0.02, // Ð¡ÐºÐ¾ÑÐ¾ÑÑÑ Ð¿ÑÐ»ÑÑÐ°ÑÐ¸Ð¸
        baseOpacity: 0.7, // ÐÐ°Ð·Ð¾Ð²Ð°Ñ Ð¿ÑÐ¾Ð·ÑÐ°ÑÐ½Ð¾ÑÑÑ
        color: '106, 76, 147', // Ð¦Ð²ÐµÑ Ð°ÑÑÑ (RGB)
        particles: {
          enabled: true,
          count: 30, // ÐÐ¾Ð»Ð¸ÑÐµÑÑÐ²Ð¾ ÑÐ°ÑÑÐ¸Ñ
          size: { min: 1, max: 3 }, // Ð Ð°Ð·Ð¼ÐµÑ ÑÐ°ÑÑÐ¸Ñ
          speed: { min: 0.1, max: 0.5 }, // Ð¡ÐºÐ¾ÑÐ¾ÑÑÑ ÑÐ°ÑÑÐ¸Ñ
          colors: ['#ffffff', '#6a4c93', '#8a6fbf', '#b388eb'], // Ð¦Ð²ÐµÑÐ° ÑÐ°ÑÑÐ¸Ñ
          symbols: ['â¦', 'â§', 'â', 'â', 'â¦', 'ð'], // Ð¡Ð¸Ð¼Ð²Ð¾Ð»Ñ ÑÐ°ÑÑÐ¸Ñ
          lifeDecay: { min: 0.005, max: 0.02 } // Ð¡ÐºÐ¾ÑÐ¾ÑÑÑ Ð¸ÑÑÐµÐ·Ð½Ð¾Ð²ÐµÐ½Ð¸Ñ ÑÐ°ÑÑÐ¸Ñ
        }
      }
    };
    // === ÐÐÐÐÐÐÐ¬ÐÐ«Ð ÐÐÐ ÐÐÐÐÐÐ«Ð ===
    let energyWaves = [];
    let mouseX = 0, mouseY = 0;
    let isMouseInHero = false;
    // ÐÐ»Ñ Ð°ÑÑÑ Ð²Ð¾ÐºÑÑÐ³ ÑÐ¾ÑÐ¾
    let auraCanvas, auraCtx, auraTime = 0, auraParticles = [];
    // === ÐÐÐÐÐÐ WhatsApp + ÐÐÐ Ð¢ÐÐ ===
    const waBtns = [document.getElementById('waBtn'), document.getElementById('waBtn2'), document.getElementById('stickyWaBtn')];
    const overlay = document.getElementById('portalOverlay');
    function openPortal(e){
      e?.preventDefault();
      if(prefersReduced){
        window.location.href = WA_URL;
        return;
      }
      const x = (e?.clientX ?? innerWidth/2), y = (e?.clientY ?? innerHeight/2);
      overlay.style.setProperty('--x', x+'px');
      overlay.style.setProperty('--y', y+'px');
      overlay.classList.add('active');
      if(navigator.vibrate) navigator.vibrate(20);
      setTimeout(()=>window.location.href = WA_URL, SITE.portalDelayMs);
    }
    waBtns.forEach(b=>{
      if(b){
        b.href=WA_URL;
        b.addEventListener('click',openPortal);
      }
    });
    // === FLIP ÐÐÐ Ð¢Ð« ===
    document.querySelectorAll('.card').forEach(card=>{
      card.addEventListener('click', ()=>{
        card.classList.toggle('is-flipped');
        // ÐÐ¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾: Ð¿ÐµÑÐµÐºÐ»ÑÑÐµÐ½Ð¸Ðµ ÐºÐ»Ð°ÑÑÐ° Ð´Ð»Ñ Ð¼Ð¾Ð±Ð¸Ð»ÑÐ½Ð¾Ð³Ð¾ ÑÐµÐ¶Ð¸Ð¼Ð°
        card.classList.toggle('is-open');
        if(navigator.vibrate) navigator.vibrate(10);
      });
      // ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÑÑÑÐµÐºÑ Ð¿Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ñ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð° Ð¿ÑÐ¸ Ð½Ð°Ð²ÐµÐ´ÐµÐ½Ð¸Ð¸
      card.addEventListener('mouseenter', function(e) {
        const symbol = this.getAttribute('data-symbol');
        if (!symbol) return;
        const iconHover = document.createElement('div');
        iconHover.className = 'problem-icon-hover';
        iconHover.textContent = symbol;
        iconHover.style.left = `${e.offsetX}px`;
        iconHover.style.top = `${e.offsetY}px`;
        this.appendChild(iconHover);
        setTimeout(() => {
          if (iconHover.parentNode === this) {
            this.removeChild(iconHover);
          }
        }, 1000);
      });
      // --- ÐÐÐÐÐÐÐÐÐ: ÐÐÐÐ Ð-ÐÐ¢ÐÐÐÐ ÐÐ Ð Ð¢ÐÐÐ ---
      card.addEventListener('touchstart', () => {
        if (navigator.vibrate) navigator.vibrate(50);
      });
    });
    // === ÐÐ£Ð Ð ÐÐ£Ð Ð¡ÐÐ Ð (Canvas 2D, ÑÐºÐ¾Ð½Ð¾Ð¼Ð½Ð°Ñ) ===
    ;(function(){
      const c = document.getElementById('cursorAura');
      const ctx = c.getContext('2d');
      let w=innerWidth,h=innerHeight;
      c.width=w;
      c.height=h;
      let sparks = [];
      const maxSparks = 90;
      function addSpark(x,y){
        sparks.push({
          x,y,
          vx:(Math.random()-.5)*1.2,
          vy:(Math.random()-.5)*1.2,
          life: 1,
          size: Math.random()*2+1,
          hue: 260+Math.random()*60 // ÐÐ¾Ð²ÑÐ¹ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ Ð´Ð»Ñ ÑÐ¸Ð¾Ð»ÐµÑÐ¾Ð²Ð¾-ÑÐ¸Ð½Ð¸Ñ Ð¾ÑÑÐµÐ½ÐºÐ¾Ð²
        });
        if(sparks.length>maxSparks) sparks.shift();
      }
      let last = performance.now();
      function loop(now){
        const dt = Math.min(0.05,(now-last)/1000);
        last=now;
        ctx.clearRect(0,0,w,h);
        for(let i=sparks.length-1;i>=0;i--){
          const s=sparks[i];
          s.x+=s.vx;
          s.y+=s.vy;
          s.life-=dt*0.9;
          if(s.life<=0){
            sparks.splice(i,1);
            continue;
          }
          const a = Math.max(0,s.life);
          const grd = ctx.createRadialGradient(s.x,s.y,0,s.x,s.y,s.size*6);
          grd.addColorStop(0, `hsla(${s.hue},95%,75%,${0.35*a})`);
          grd.addColorStop(1, `hsla(${s.hue},95%,50%,0)`);
          ctx.fillStyle = grd;
          ctx.beginPath();
          ctx.arc(s.x,s.y,s.size*6,0,6.283);
          ctx.fill();
        }
        requestAnimationFrame(loop);
      }
      function onMove(e){
        const x = (e.touches? e.touches[0].clientX : e.clientX);
        const y = (e.touches? e.touches[0].clientY : e.clientY);
        for(let i=0;i<3;i++) addSpark(x,y);
      }
      window.addEventListener('mousemove', onMove, {passive:true});
      window.addEventListener('touchmove', onMove, {passive:true});
      window.addEventListener('resize', ()=>{
        w=innerWidth;h=innerHeight;c.width=w;c.height=h;
      });
      requestAnimationFrame(loop);
    })();
    // === ÐÐ ÐÐ¡Ð¢ÐÐÐÐ¬ÐÐ«Ð Ð¨ÐÐ  (WebGL, ÑÑÐ°Ð³Ð¼ÐµÐ½ÑÐ½ÑÐ¹ ÑÐµÐ¹Ð´ÐµÑ) ===
    ;(function(){
      const canvas = document.getElementById('ball');
      let gl = canvas.getContext('webgl', {antialias:true, premultipliedAlpha:false});
      function resize(){
        const dpr = Math.min(2, window.devicePixelRatio||1);
        const side = canvas.clientWidth||canvas.parentElement.offsetWidth;
        canvas.width = Math.floor(side*dpr);
        canvas.height= Math.floor(side*dpr);
      }
      function fallback(){
        canvas.style.display='none'; /* Ð¾ÑÑÐ°ÑÑÑÑ .ball-fallback */
      }
      if(!gl || prefersReduced){
        fallback();
        return;
      }
      resize();
      window.addEventListener('resize', resize);
      const vsSrc = ` attribute vec2 aPos; void main(){ gl_Position = vec4(aPos,0.0,1.0); } `;
      const fsSrc = ` precision mediump float; uniform vec2 uRes; uniform float uTime; uniform vec2 uMouse; // 0..1 // hash/noise float hash(vec3 p){ return fract(sin(dot(p, vec3(12.9898,78.233,37.719)))*43758.5453); } float noise(vec3 p){ vec3 i=floor(p), f=fract(p); f=f*f*(3.0-2.0*f); float n000=hash(i+vec3(0,0,0)); float n100=hash(i+vec3(1,0,0)); float n010=hash(i+vec3(0,1,0)); float n110=hash(i+vec3(1,1,0)); float n001=hash(i+vec3(0,0,1)); float n101=hash(i+vec3(1,0,1)); float n011=hash(i+vec3(0,1,1)); float n111=hash(i+vec3(1,1,1)); float nx00=mix(n000,n100,f.x); float nx10=mix(n010,n110,f.x); float nx01=mix(n001,n101,f.x); float nx11=mix(n011,n111,f.x); float nxy0=mix(nx00,nx10,f.y); float nxy1=mix(nx01,nx11,f.y); return mix(nxy0,nxy1,f.z); } float fbm(vec3 p){ float v=0.0,a=.55; for(int i=0;i<5;i++){ v+=noise(p)*a; p*=2.03; a*=.55; } return v; } void main(){ vec2 uv=(gl_FragCoord.xy/uRes)*2.0-1.0; uv.x*=uRes.x/uRes.y; // ÐºÐ°Ð¼ÐµÑÐ° float yaw = (uMouse.x-0.5)*0.7; float pitch = (uMouse.y-0.5)*0.6; vec3 ro = vec3(0.0, 0.0, 3.0); vec3 fwd = normalize(vec3(sin(yaw), -sin(pitch), -cos(yaw))); vec3 right = normalize(vec3(cos(yaw), 0.0, -sin(yaw))); vec3 up = normalize(cross(right, fwd)); vec3 rd = normalize(fwd + uv.x*right + uv.y*up); // Ð¿ÐµÑÐµÑÐµÑÐµÐ½Ð¸Ðµ ÑÐ¾ ÑÑÐµÑÐ¾Ð¹ (ÑÐ°Ñ) vec3 ce = vec3(0.0); float R = 1.0; vec3 oc = ro - ce; float b = dot(oc, rd); float c = dot(oc, oc) - R*R; float h = b*b - c; vec3 col; if(h>0.0){ float t = -b - sqrt(h); vec3 p = ro + rd*t; vec3 n = normalize(p - ce); // Ð²Ð½ÑÑÑÐµÐ½Ð½ÑÑ "Ð½ÐµÐ±ÑÐ»Ð°" float swirl = fbm(p*2.2 + vec3(0.0,0.0,uTime*0.25)); float band = smoothstep(0.0,1.0,0.5+0.5*sin(6.0*p.y + uTime*0.9)); float core = smoothstep(0.0,1.0, fbm(p*3.1 + vec3(uTime*.15))); float glow = pow(1.0 - dot(n, -rd), 3.0); vec3 c1 = vec3(0.416, 0.298, 0.576); // p1 #6a4c93 vec3 c2 = vec3(0.541, 0.435, 0.749); // p2 #8a6fbf vec3 c3 = vec3(0.702, 0.533, 0.922); // p3 #b388eb vec3 magic = mix(c1,c2, swirl)*0.8 + c3*band*0.25 + vec3(1.0)*core*0.12; vec3 rim = vec3(1.0,0.9,1.0)*glow*0.9; // Ð»ÑÐ³ÐºÐ°Ñ "ÑÐµÑÑÐ°ÐºÑÐ¸Ñ" ÑÐ¾Ð½Ð¾Ð¼: Ð¿ÑÐµÐ²Ð´Ð¾Ð·Ð°Ð±Ð¾Ñ ÑÐ²ÐµÑÐ° vec2 bg = uv + n.xy*0.08; float neb = fbm(vec3(bg*2.0, uTime*.1)); vec3 space = mix(vec3(0.04,0.04,0.08), vec3(0.14,0.07,0.16), neb); col = mix(space, magic, 0.85) + rim; // Ð³ÑÐ°Ð½Ð¸ÑÐ° ÑÐ°ÑÐ° float edge = smoothstep(1.0, 0.98, length(uv)); col *= edge; } else { // ÑÐ¾Ð½ "ÐºÐ¾ÑÐ¼Ð¾Ñ" float neb = fbm(vec3(uv*2.0, uTime*.1)); col = mix(vec3(0.02,0.02,0.05), vec3(0.10,0.05,0.16), neb); } // ÑÐ¾Ð½ÐºÐ¸Ð¹ bloom-like col += vec3(0.05)*smoothstep(0.98,1.0,length(uv)); gl_FragColor = vec4(pow(col, vec3(0.9)), 1.0); } `;
      function compile(type,src){
        const sh = gl.createShader(type);
        gl.shaderSource(sh,src);
        gl.compileShader(sh);
        if(!gl.getShaderParameter(sh, gl.COMPILE_STATUS)){
          console.error(gl.getShaderInfoLog(sh));
          return null;
        }
        return sh;
      }
      const vs = compile(gl.VERTEX_SHADER, vsSrc);
      const fs = compile(gl.FRAGMENT_SHADER, fsSrc);
      if(!vs||!fs){
        fallback();
        return;
      }
      const prog = gl.createProgram();
      gl.attachShader(prog,vs);
      gl.attachShader(prog,fs);
      gl.linkProgram(prog);
      if(!gl.getProgramParameter(prog, gl.LINK_STATUS)){
        console.error(gl.getProgramInfoLog(prog));
        fallback();
        return;
      }
      const buf = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, buf);
      // fullscreen quad
      gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1,-1, 1,-1, -1,1, 1,1]), gl.STATIC_DRAW);
      const locPos = gl.getAttribLocation(prog, 'aPos');
      const uRes = gl.getUniformLocation(prog, 'uRes');
      const uTime = gl.getUniformLocation(prog, 'uTime');
      const uMouse = gl.getUniformLocation(prog, 'uMouse');
      let mouse=[0.5,0.5];
      canvas.addEventListener('mousemove', e=>{
        const r=canvas.getBoundingClientRect();
        mouse=[(e.clientX-r.left)/r.width,(e.clientY-r.top)/r.height];
      },{passive:true});
      // --- ÐÐÐÐÐÐÐÐÐ: ÐÐÐ ÐÐ¡ÐÐÐÐÐ§ÐÐ¡ÐÐÐ Ð­Ð¤Ð¤ÐÐÐ¢ Ð¨ÐÐ Ð ---
      let tiltX = 0, tiltY = 0;
      let targetTiltX = 0, targetTiltY = 0;
      let currentTiltX = 0, currentTiltY = 0;
      window.addEventListener('deviceorientation', e => {
        if (e.beta !== null && e.gamma !== null) {
          targetTiltX = Math.max(-1, Math.min(1, e.beta / 90)); // -1 Ð´Ð¾ 1
          targetTiltY = Math.max(-1, Math.min(1, e.gamma / 90));
        }
      });
      // --- ÐÐÐÐÐÐÐÐÐ: ÐÐÐÐÐÐÐ ÐÐ ÐÐ©ÐÐÐÐ ---
      function updateBallRotation() {
        // ÐÐ»Ð°Ð²Ð½Ð°Ñ Ð¸Ð½ÑÐµÑÐ¿Ð¾Ð»ÑÑÐ¸Ñ
        currentTiltX += (targetTiltX - currentTiltX) * 0.1;
        currentTiltY += (targetTiltY - currentTiltY) * 0.1;
        // ÐÑÐ¸Ð¼ÐµÐ½ÑÐµÐ¼ ÑÑÐ°Ð½ÑÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ðº Ð¾Ð±ÐµÑÑÐºÐµ ÑÐ°ÑÐ°
        const ballWrap = document.querySelector('.ball-wrap');
        if (ballWrap) {
          ballWrap.style.transform = `rotateX(${currentTiltX * 15}deg) rotateY(${currentTiltY * 15}deg)`;
        }
        requestAnimationFrame(updateBallRotation);
      }
      updateBallRotation();
      // --- ÐÐÐÐÐ¦ ÐÐÐÐÐÐÐÐÐÐ ---
      let t0 = performance.now();
      function frame(now){
        resize();
        gl.viewport(0,0,canvas.width,canvas.height);
        gl.useProgram(prog);
        gl.enableVertexAttribArray(locPos);
        gl.vertexAttribPointer(locPos, 2, gl.FLOAT, false, 0, 0);
        gl.uniform2f(uRes, canvas.width, canvas.height);
        gl.uniform1f(uTime, (now - t0)/1000);
        gl.uniform2f(uMouse, mouse[0], mouse[1]);
        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
        requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);
      // Ð¿Ð°ÑÐ·Ð° Ð¿ÑÐ¸ Ð¿Ð¾ÑÐµÑÐµ Ð²ÐºÐ»Ð°Ð´ÐºÐ¸
      document.addEventListener('visibilitychange', ()=>{
        if(document.hidden){
          /* Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾ÑÑÐ°Ð²Ð¸ÑÑ ÑÑÐ°ÑÐ¸ÐºÑ â Ð¾Ð¿ÑÐ¸Ð¾Ð½Ð°Ð»ÑÐ½Ð¾ */
        }
      });
    })();
    // === Ð­Ð¤Ð¤ÐÐÐ¢Ð« ===
    // --- ÐÐ½Ð¸ÑÐ¸Ð°Ð»Ð¸Ð·Ð°ÑÐ¸Ñ Ð²ÑÐµÑ ÑÑÑÐµÐºÑÐ¾Ð² ---
    function initAllEffects() {
      initEnergyWaves();
      initFloatingElements();
      initPsychicAura(); // ÐÐ½Ð¸ÑÐ¸Ð°Ð»Ð¸Ð·Ð°ÑÐ¸Ñ Ð°ÑÑÑ Ð²Ð¾ÐºÑÑÐ³ ÑÐ¾ÑÐ¾
      // Ð¡Ð»ÑÑÐ°ÑÐµÐ»Ð¸ ÑÐ¾Ð±ÑÑÐ¸Ð¹
      window.addEventListener('mousemove', handleMouseMove);
      window.addEventListener('resize', handleResize);
      // ÐÐ°Ð¿ÑÑÐº Ð°Ð½Ð¸Ð¼Ð°ÑÐ¸Ð¾Ð½Ð½Ð¾Ð³Ð¾ ÑÐ¸ÐºÐ»Ð°
      requestAnimationFrame(animateEffects);
    }
    // --- 1. Ð­Ð½ÐµÑÐ³ÐµÑÐ¸ÑÐµÑÐºÐ¸Ðµ Ð²Ð¾Ð»Ð½Ñ ---
    function initEnergyWaves() {
      if (!EFFECT_SETTINGS.energyWaves.enabled) return;
      const hero = document.querySelector('.hero');
      if (!hero) return;
      hero.addEventListener('mousemove', (e) => {
        if (energyWaves.length < EFFECT_SETTINGS.energyWaves.waveCount) {
          createEnergyWave(e.clientX, e.clientY);
        }
      });
    }
    function createEnergyWave(x, y) {
      const wave = document.createElement('div');
      wave.className = 'energy-wave';
      wave.style.left = `${x}px`;
      wave.style.top = `${y}px`;
      wave.style.borderColor = EFFECT_SETTINGS.energyWaves.color;
      document.getElementById('wavesContainer').appendChild(wave);
      energyWaves.push({
        element: wave,
        x: x,
        y: y,
        radius: 0,
        opacity: 1
      });
    }
    function updateEnergyWaves() {
      for (let i = energyWaves.length - 1; i >= 0; i--) {
        const wave = energyWaves[i];
        wave.radius += EFFECT_SETTINGS.energyWaves.speed * 2;
        wave.opacity -= 0.01;
        if (wave.opacity <= 0) {
          wave.element.remove();
          energyWaves.splice(i, 1);
        } else {
          wave.element.style.width = `${wave.radius * 2}px`;
          wave.element.style.height = `${wave.radius * 2}px`;
          wave.element.style.opacity = wave.opacity;
        }
      }
    }
    // --- 2. ÐÐ»Ð°Ð²Ð°ÑÑÐ¸Ðµ ÑÐ»ÐµÐ¼ÐµÐ½ÑÑ ---
    function initFloatingElements() {
      if (!EFFECT_SETTINGS.floatingElements.enabled) return;
      const container = document.createElement('div');
      container.id = 'floatingElementsContainer';
      document.body.appendChild(container);
      for (let i = 0; i < EFFECT_SETTINGS.floatingElements.count; i++) {
        const element = document.createElement('div');
        element.className = 'floating-element';
        const symbol = EFFECT_SETTINGS.floatingElements.symbols[
          Math.floor(Math.random() * EFFECT_SETTINGS.floatingElements.symbols.length)
        ];
        const color = EFFECT_SETTINGS.floatingElements.colors[
          Math.floor(Math.random() * EFFECT_SETTINGS.floatingElements.colors.length)
        ];
        const size = Math.random() * (EFFECT_SETTINGS.floatingElements.size.max - EFFECT_SETTINGS.floatingElements.size.min) + EFFECT_SETTINGS.floatingElements.size.min;
        const duration = Math.random() * (EFFECT_SETTINGS.floatingElements.duration.max - EFFECT_SETTINGS.floatingElements.duration.min) + EFFECT_SETTINGS.floatingElements.duration.min;
        element.textContent = symbol;
        element.style.color = color;
        element.style.fontSize = `${size}px`;
        // Ð¡Ð»ÑÑÐ°Ð¹Ð½ÑÐµ Ð½Ð°ÑÐ°Ð»ÑÐ½ÑÐµ Ð¸ ÐºÐ¾Ð½ÐµÑÐ½ÑÐµ ÐºÐ¾Ð¾ÑÐ´Ð¸Ð½Ð°ÑÑ Ð´Ð»Ñ Ð°Ð½Ð¸Ð¼Ð°ÑÐ¸Ð¸
        const startX = Math.random() * 100;
        const startY = Math.random() * 100;
        const endX = Math.random() * 100;
        const endY = Math.random() * 100;
        element.style.setProperty('--startX', `${startX}vw`);
        element.style.setProperty('--startY', `${startY}vh`);
        element.style.setProperty('--endX', `${endX}vw`);
        element.style.setProperty('--endY', `${endY}vh`);
        element.style.animationDuration = `${duration}s`;
        container.appendChild(element);
      }
    }
    // --- 3. ÐÑÑÐ° Ð²Ð¾ÐºÑÑÐ³ ÑÐ¾ÑÐ¾ Ð³Ð°Ð´Ð°Ð»ÐºÐ¸ ---
    function initPsychicAura() {
      if (!EFFECT_SETTINGS.psychicAura.enabled) return;
      auraCanvas = document.getElementById('auraCanvas');
      if (!auraCanvas) {
        console.error('Canvas Ð´Ð»Ñ Ð°ÑÑÑ Ð³Ð°Ð´Ð°Ð»ÐºÐ¸ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½');
        return;
      }
      auraCtx = auraCanvas.getContext('2d');
      handleResize(); // Ð£ÑÑÐ°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð½Ð°ÑÐ°Ð»ÑÐ½ÑÐ¹ ÑÐ°Ð·Ð¼ÐµÑ
      // Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐ°ÑÑÐ¸Ñ
      if (EFFECT_SETTINGS.psychicAura.particles.enabled) {
        auraParticles = [];
        for (let i = 0; i < EFFECT_SETTINGS.psychicAura.particles.count; i++) {
          auraParticles.push(createAuraParticle());
        }
      }
    }
    function createAuraParticle() {
      const settings = EFFECT_SETTINGS.psychicAura.particles;
      const canvasSize = Math.min(auraCanvas.width, auraCanvas.height);
      const centerX = auraCanvas.width / 2;
      const centerY = auraCanvas.height / 2;
      const maxRadius = canvasSize * EFFECT_SETTINGS.psychicAura.baseRadius * 0.45; // 45% Ð¾Ñ ÑÐ°Ð´Ð¸ÑÑÐ° canvas
      const angle = Math.random() * Math.PI * 2;
      const distance = Math.random() * maxRadius;
      return {
        x: centerX + Math.cos(angle) * distance,
        y: centerY + Math.sin(angle) * distance,
        size: Math.random() * (settings.size.max - settings.size.min) + settings.size.min,
        speedX: (Math.random() - 0.5) * 2 * settings.speed.max,
        speedY: (Math.random() - 0.5) * 2 * settings.speed.max,
        symbol: settings.symbols[Math.floor(Math.random() * settings.symbols.length)],
        color: settings.colors[Math.floor(Math.random() * settings.colors.length)],
        life: 1.0,
        decay: Math.random() * (settings.lifeDecay.max - settings.lifeDecay.min) + settings.lifeDecay.min
      };
    }
    function drawPsychicAura(ctx) {
      if (!EFFECT_SETTINGS.psychicAura.enabled) return;
      const settings = EFFECT_SETTINGS.psychicAura;
      const canvasSize = Math.min(auraCanvas.width, auraCanvas.height);
      const centerX = auraCanvas.width / 2;
      const centerY = auraCanvas.height / 2;
      const maxRadius = canvasSize * settings.baseRadius * 0.5; // 50% Ð¾Ñ ÑÐ°Ð´Ð¸ÑÑÐ° canvas
      auraTime += settings.pulseSpeed;
      const pulse = Math.sin(auraTime) * 0.05 + 1; // ÐÑÐ»ÑÑÐ°ÑÐ¸Ñ Ð¾Ñ 0.95 Ð´Ð¾ 1.05
      const radius = maxRadius * pulse;
      const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, radius);
      gradient.addColorStop(0, `rgba(${settings.color}, ${settings.baseOpacity})`);
      gradient.addColorStop(0.7, `rgba(${settings.color}, ${settings.baseOpacity * 0.5})`);
      gradient.addColorStop(1, `rgba(${settings.color}, 0)`);
      ctx.beginPath();
      ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
      ctx.fillStyle = gradient;
      ctx.fill();
    }
    function updateAndDrawAuraParticles(ctx) {
      if (!EFFECT_SETTINGS.psychicAura.particles.enabled) return;
      const canvasSize = Math.min(auraCanvas.width, auraCanvas.height);
      const centerX = auraCanvas.width / 2;
      const centerY = auraCanvas.height / 2;
      const maxRadius = canvasSize * EFFECT_SETTINGS.psychicAura.baseRadius * 0.45;
      for (let i = 0; i < auraParticles.length; i++) {
        let p = auraParticles[i];
        // ÐÐ²Ð¸Ð¶ÐµÐ½Ð¸Ðµ ÑÐ°ÑÑÐ¸ÑÑ
        p.x += p.speedX;
        p.y += p.speedY;
        // Ð£Ð¼ÐµÐ½ÑÑÐµÐ½Ð¸Ðµ Ð¶Ð¸Ð·Ð½Ð¸
        p.life -= p.decay;
        // ÐÑÐ¾Ð²ÐµÑÐºÐ° Ð²ÑÑÐ¾Ð´Ð° Ð·Ð° Ð¿ÑÐµÐ´ÐµÐ»Ñ "Ð·Ð¾Ð½Ñ" Ð²Ð¾ÐºÑÑÐ³ ÑÐµÐ½ÑÑÐ°
        const dx = p.x - centerX;
        const dy = p.y - centerY;
        const distance = Math.sqrt(dx * dx + dy * dy);
        if (distance > maxRadius || p.life <= 0) {
          // ÐÑÐ»Ð¸ ÑÐ°ÑÑÐ¸ÑÐ° Ð²ÑÑÐ»Ð° Ð·Ð° Ð¿ÑÐµÐ´ÐµÐ»Ñ Ð¸Ð»Ð¸ "ÑÐ¼ÐµÑÐ»Ð°", ÑÐ¾Ð·Ð´Ð°ÐµÐ¼ Ð½Ð¾Ð²ÑÑ
          auraParticles[i] = createAuraParticle();
          continue;
        }
        // ÐÑÑÐ¸ÑÐ¾Ð²ÐºÐ° ÑÐ°ÑÑÐ¸ÑÑ
        ctx.font = `${p.size}px Arial`;
        ctx.fillStyle = p.color;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.globalAlpha = p.life; // ÐÑÐ¾Ð·ÑÐ°ÑÐ½Ð¾ÑÑÑ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ Ð¾Ñ Ð¶Ð¸Ð·Ð½Ð¸
        ctx.fillText(p.symbol, p.x, p.y);
      }
      ctx.globalAlpha = 1.0; // Ð¡Ð±ÑÐ¾Ñ Ð¿ÑÐ¾Ð·ÑÐ°ÑÐ½Ð¾ÑÑÐ¸
    }
    // --- ÐÐ±ÑÐ°Ð±Ð¾ÑÑÐ¸ÐºÐ¸ ÑÐ¾Ð±ÑÑÐ¸Ð¹ ---
    function handleMouseMove(e) {
      mouseX = e.clientX;
      mouseY = e.clientY;
      const hero = document.querySelector('.hero');
      if (hero) {
        const rect = hero.getBoundingClientRect();
        isMouseInHero = (
          mouseX >= rect.left &&
          mouseX <= rect.right &&
          mouseY >= rect.top &&
          mouseY <= rect.bottom
        );
      }
    }
    function handleResize() {
      // Ð£ÑÑÐ°Ð½Ð¾Ð²ÐºÐ° ÑÐ°Ð·Ð¼ÐµÑÐ¾Ð² canvas Ð´Ð»Ñ Ð°ÑÑÑ
      if (auraCanvas) {
        const wrapper = auraCanvas.parentElement;
        if (wrapper) {
            auraCanvas.width = wrapper.clientWidth;
            auraCanvas.height = wrapper.clientHeight;
        }
      }
      // Ð£ÑÑÐ°Ð½Ð¾Ð²ÐºÐ° ÑÐ°Ð·Ð¼ÐµÑÐ¾Ð² Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð³Ð¾ canvas
      const mainCanvas = document.getElementById('ball');
      if (mainCanvas) {
        const dpr = Math.min(2, window.devicePixelRatio||1);
        const side = mainCanvas.clientWidth||mainCanvas.parentElement.offsetWidth;
        mainCanvas.width = Math.floor(side*dpr);
        mainCanvas.height= Math.floor(side*dpr);
      }
      // Ð£ÑÑÐ°Ð½Ð¾Ð²ÐºÐ° ÑÐ°Ð·Ð¼ÐµÑÐ¾Ð² ÐºÑÑÑÐ¾ÑÐ½Ð¾Ð¹ Ð°ÑÑÑ
      const cursorCanvas = document.getElementById('cursorAura');
      if (cursorCanvas) {
        cursorCanvas.width=window.innerWidth;
        cursorCanvas.height=window.innerHeight;
      }
    }
    // --- ÐÐ½Ð¸Ð¼Ð°ÑÐ¸Ð¾Ð½Ð½ÑÐ¹ ÑÐ¸ÐºÐ» ---
    function animateEffects() {
      if (auraCtx && auraCanvas) {
        auraCtx.clearRect(0, 0, auraCanvas.width, auraCanvas.height);
        drawPsychicAura(auraCtx);
        updateAndDrawAuraParticles(auraCtx);
      }
      updateEnergyWaves();
      requestAnimationFrame(animateEffects);
    }
    // --- ÐÐ°Ð¿ÑÑÐº ÑÑÑÐµÐºÑÐ¾Ð² ---
    document.addEventListener('DOMContentLoaded', () => {
        // Ð£ÑÑÐ°Ð½Ð¾Ð²ÐºÐ° Ð¸Ð·Ð¾Ð±ÑÐ°Ð¶ÐµÐ½Ð¸Ñ Ð¸Ð· Ð½Ð°ÑÑÑÐ¾ÐµÐº
        const photoElement = document.getElementById('psychicPhoto');
        const stickyPhotoElement = document.querySelector('.sticky-whatsapp .avatar img');
        if (photoElement) {
            photoElement.src = SITE_SETTINGS.psychicImageURL;
            photoElement.alt = SITE_SETTINGS.psychicName ? `Ð¤Ð¾ÑÐ¾ ${SITE_SETTINGS.psychicName}` : "Ð¤Ð¾ÑÐ¾ Ð³Ð°Ð´Ð°Ð»ÐºÐ¸";
        }
        if (stickyPhotoElement) {
            stickyPhotoElement.src = SITE_SETTINGS.psychicImageURL;
            stickyPhotoElement.alt = SITE_SETTINGS.psychicName ? `Ð¤Ð¾ÑÐ¾ ${SITE_SETTINGS.psychicName}` : "Ð¤Ð¾ÑÐ¾ Ð³Ð°Ð´Ð°Ð»ÐºÐ¸";
        }
      initAllEffects();
      // Ð¯Ð½Ð´ÐµÐºÑ.ÐÐµÑÑÐ¸ÐºÐ°
      if (SITE_SETTINGS.yandexMetrikaId) {
        const s = document.createElement('script');
        s.type = 'text/javascript'; s.async = true;
        s.innerHTML = `
          (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
          m[i].l=1*new Date();
          for(var j=0;j<document.scripts.length;j++){if(document.scripts[j].src===r)return;}
          k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
          (window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym");
          ym(${SITE_SETTINGS.yandexMetrikaId},"init",{clickmap:true,trackLinks:true,accurateTrackBounce:true,webvisor:true});
        `;
        document.head.appendChild(s);
      }
      // --- ÐÐÐÐÐÐÐÐÐ: ÐÐÐÐÐ§ÐÐ¡ÐÐÐ Ð¡ÐÐ ÐÐÐ-Ð­Ð¤Ð¤ÐÐÐ¢ ---
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, { threshold: 0.1 });
      document.querySelectorAll('.card').forEach(card => {
        observer.observe(card);
      });
      // --- ÐÐÐÐÐÐÐÐÐ: ÐÐÐÐÐ§ÐÐ-Ð§ÐÐ¢ ---
      const greetings = [ // ÐÐÐÐ«Ð map
        {h:[0,1,2,3,4,5],  txt:'ÐÐ¾ÑÑ ÑÐ°ÑÐºÑÑÐ²Ð°ÐµÑ Ð·Ð°Ð²ÐµÑÑ ÑÐ°Ð¹Ð½â¦ ð'},
        {h:[6],             txt:'Ð Ð°ÑÑÐ²ÐµÑ Ð¿Ð¾Ð´ÑÐºÐ°Ð¶ÐµÑ Ð²ÐµÑÐ½ÑÐ¹ Ð¿ÑÑÑ ð'},
        {h:[7,8],           txt:'Ð£ÑÑÐ¾ â Ð²ÑÐµÐ¼Ñ Ð¼Ð°Ð³Ð¸Ð¸ Ð¸ ÐºÐ¾ÑÐµ âð®'},
        {h:[9,10],          txt:'ÐÐ°ÑÑÑ ÑÐ¶Ðµ Ð¶Ð´ÑÑ Ð²Ð°Ñ Ð²Ð¾Ð¿ÑÐ¾Ñ â¨'},
        {h:[11,12],         txt:'ÐÐ¾Ð»Ð´ÐµÐ½Ñ â ÑÑÐ½Ð¾ÑÑÑ Ð¿ÑÐ¸ÑÐ¾Ð´Ð¸Ñ ÑÐ¾ ÑÐ²ÐµÑÐ¾Ð¼ âï¸'},
        {h:[13,14],         txt:'ÐÐµÐ½Ñ â Ð»ÑÑÑÐµÐµ Ð²ÑÐµÐ¼Ñ Ð´Ð»Ñ Ð´ÐµÐ½ÐµÐ¶Ð½ÑÑ ÑÐ¸ÑÑÐ°Ð»Ð¾Ð² ð¸'},
        {h:[15,16],         txt:'Ð¡ÑÐ¼ÐµÑÐºÐ¸ â ÐºÐ»ÑÑ Ðº ÑÐµÑÐ´ÐµÑÐ½ÑÐ¼ ÑÐ°Ð¹Ð½Ð°Ð¼ â¤ï¸'},
        {h:[17,18],         txt:'ÐÐµÑÐµÑÐ¾Ð¼ Ð¸Ð½ÑÑÐ¸ÑÐ¸Ñ Ð¾ÑÑÑÐµÐµ ð'},
        {h:[19,20],         txt:'ÐÐ¾ÑÑ Ð¿Ð¾ÐºÐ°Ð¶ÐµÑ, ÑÑÐ¾ ÑÐºÑÑÑÐ¾ Ð¾Ñ Ð³Ð»Ð°Ð· ð'},
        {h:[21,22],         txt:'ÐÐ¾Ð·Ð´Ð½Ð¸Ð¹ ÑÐ°Ñ â Ð¼Ð°Ð³Ð¸Ñ Ð²Ð½Ðµ Ð²ÑÐµÐ¼ÐµÐ½Ð¸ ð'},
        {h:[23],            txt:'ÐÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ Ð¼Ð¸Ð³ â Ð¾ÑÐ²ÐµÑ ÑÐ¶Ðµ ÑÑÐ´Ð¾Ð¼ â³'}
      ];
      function showCloud(){
        const h = new Date().getHours();
        const set = greetings.find(m=>m.h.includes(h));
        const text = set ? set.txt : 'ÐÑÐ¸Ð²ÐµÑ! ð'; // ÐÐµÑÐ¾Ð»ÑÐ½Ð¾Ðµ Ð·Ð½Ð°ÑÐµÐ½Ð¸Ðµ
        const cloud = document.getElementById('typingCloud');
        const span  = document.getElementById('dynamicText');
        if (!cloud || !span) return; // ÐÑÐ¾Ð²ÐµÑÐºÐ° Ð½Ð°Ð»Ð¸ÑÐ¸Ñ ÑÐ»ÐµÐ¼ÐµÐ½ÑÐ¾Ð²
        span.textContent = '';
        cloud.classList.add('show');
        // Ð¿ÐµÑÐ°ÑÑ Ð¿Ð¾ Ð±ÑÐºÐ²Ð°Ð¼
        [...text].forEach((ch,i)=>{
          setTimeout(()=> span.textContent += ch, i*45);
        });
      }
      showCloud();
      
      // ÐÐ°Ð¿ÑÑÐº ÑÐµÐ´Ð¸ÑÐµÐºÑÐ° Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð³ÑÑÐ·ÐºÐ¸ DOM
      handleRedirect();
    });
    // === ÐÐÐÐ«Ð Ð¤Ð£ÐÐÐ¦ÐÐ ÐÐÐ¯ ÐÐÐÐÐÐ ÐÐÐÐÐÐ ===
    // Ð¤ÑÐ½ÐºÑÐ¸Ñ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¸ÑÐºÑ
    function createSpark(x, y) {
      const spark = document.createElement('div');
      spark.className = 'spark';
      spark.innerHTML = 'â¨';
      spark.style.left = `${x}px`;
      spark.style.top = `${y}px`;
      spark.style.color = `hsl(${260 + Math.random() * 60}, 100%, 70%)`; // Ð¤Ð¸Ð¾Ð»ÐµÑÐ¾Ð²Ð¾-ÑÐ¸Ð½Ð¸Ð¹
      document.body.appendChild(spark);
      // ÐÐ½Ð¸Ð¼Ð°ÑÐ¸Ñ Ð¸ÑÐºÑÑ
      const angle = Math.random() * Math.PI * 2;
      const speed = 2 + Math.random() * 3;
      const vx = Math.cos(angle) * speed;
      const vy = Math.sin(angle) * speed;
      let opacity = 1;
      function animate() {
        const currentX = parseFloat(spark.style.left);
        const currentY = parseFloat(spark.style.top);
        spark.style.left = `${currentX + vx}px`;
        spark.style.top = `${currentY + vy}px`;
        opacity -= 0.03;
        spark.style.opacity = opacity;
        if (opacity > 0) {
          requestAnimationFrame(animate);
        } else {
          spark.remove();
        }
      }
      animate();
    }
    // ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¾Ð±ÑÐ°Ð±Ð¾ÑÑÐ¸Ðº ÐºÐ»Ð¸ÐºÐ° Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¸ÑÐºÑ Ð½Ð° Ð»Ð¸Ð¿ÐºÐ¾Ð¹ ÐºÐ½Ð¾Ð¿ÐºÐµ
    document.getElementById('stickyWaBtn').addEventListener('click', function(e) {
      const rect = this.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;
      // Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð½ÐµÑÐºÐ¾Ð»ÑÐºÐ¾ Ð¸ÑÐºÑ
      for (let i = 0; i < 15; i++) {
        setTimeout(() => {
          createSpark(centerX, centerY);
        }, i * 30);
      }
    });
    // --- ÐÐÐÐÐÐÐÐÐ: ÐÐÐÐÐÐ¦ÐÐ¯ ÐÐÐÐÐ¢Ð ÐÐÐ¡Ð¬ÐÐ ---
    function animateEnvelope(startX, startY, endX, endY) {
      const envelope = document.createElement('div');
      envelope.className = 'envelope-animation';
      envelope.innerHTML = 'âï¸';
      envelope.style.setProperty('--startX', `${startX}px`);
      envelope.style.setProperty('--startY', `${startY}px`);
      envelope.style.setProperty('--endX', `${endX}px`);
      envelope.style.setProperty('--endY', `${endY}px`);
      document.body.appendChild(envelope);
      envelope.addEventListener('animationend', () => {
        envelope.remove();
      });
    }
    // ÐÐ¾Ð´Ð¸ÑÐ¸ÑÐ¸ÑÑÐµÐ¼ ÑÑÐ½ÐºÑÐ¸Ñ openPortal Ð´Ð»Ñ Ð·Ð°Ð¿ÑÑÐºÐ° Ð°Ð½Ð¸Ð¼Ð°ÑÐ¸Ð¸
    const originalOpenPortal = openPortal;
    window.openPortal = function(e) {
      e?.preventDefault();
      // ÐÐ°Ð¿ÑÑÐºÐ°ÐµÐ¼ Ð°Ð½Ð¸Ð¼Ð°ÑÐ¸Ñ Ð¿Ð¸ÑÑÐ¼Ð°
      const btnRect = e?.target?.getBoundingClientRect();
      const stickyBtnRect = document.getElementById('stickyWaBtn')?.getBoundingClientRect();
      if (btnRect) {
        animateEnvelope(
          btnRect.left + btnRect.width / 2,
          btnRect.top + btnRect.height / 2,
          window.innerWidth - 50, // ÐÑÐ¸Ð¼ÐµÑÐ½Ð°Ñ Ð¿Ð¾Ð·Ð¸ÑÐ¸Ñ Ð»Ð¸Ð¿ÐºÐ¾Ð¹ ÐºÐ½Ð¾Ð¿ÐºÐ¸
          window.innerHeight - 50
        );
      } else if (stickyBtnRect) {
        // ÐÑÐ»Ð¸ ÐºÐ»Ð¸Ðº Ð±ÑÐ» Ð½Ð° Ð»Ð¸Ð¿ÐºÐ¾Ð¹ ÐºÐ½Ð¾Ð¿ÐºÐµ, Ð°Ð½Ð¸Ð¼Ð°ÑÐ¸Ñ Ð½Ðµ Ð½ÑÐ¶Ð½Ð°, Ð¸Ð»Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ð·Ð°Ð¿ÑÑÑÐ¸ÑÑ Ð´ÑÑÐ³ÑÑ
        // Ð Ð´Ð°Ð½Ð½Ð¾Ð¼ ÑÐ»ÑÑÐ°Ðµ Ð¿ÑÐ¾ÑÑÐ¾ Ð¿ÑÐ¾Ð´Ð¾Ð»Ð¶Ð°ÐµÐ¼ Ð²ÑÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ
      }
      // ÐÑÐ·ÑÐ²Ð°ÐµÐ¼ Ð¾ÑÐ¸Ð³Ð¸Ð½Ð°Ð»ÑÐ½ÑÑ ÑÑÐ½ÐºÑÐ¸Ñ
      originalOpenPortal(e);
    };
    // --- ÐÐÐÐÐÐÐÐÐ: Ð¡ÐÐÐ ÐÐ¢ÐÐ«Ð ÐÐÐ¡Ð¢ "ÐÐ®ÐÐÐÐ¬" ---
    let lastTap = 0;
    document.addEventListener('touchend', function(e) {
      const currentTime = new Date().getTime();
      const tapLength = currentTime - lastTap;
      if (tapLength < 300 && tapLength > 0) {
        // ÐÐ²Ð¾Ð¹Ð½Ð¾Ð¹ ÑÐ°Ð¿
        createHeartAnimation(e.changedTouches[0].clientX, e.changedTouches[0].clientY);
        setTimeout(() => {
          window.location.href = 'https://wa.me/79326387087?text=ð Ð½ÑÐ¶Ð½Ð° Ð¿Ð¾Ð¼Ð¾ÑÑ';
        }, 800);
      }
      lastTap = currentTime;
    });
    function createHeartAnimation(x, y) {
      const heart = document.createElement('div');
      heart.className = 'heart-animation';
      heart.innerHTML = 'ð';
      heart.style.left = `${x - 25}px`; // Ð¦ÐµÐ½ÑÑÐ¸ÑÑÐµÐ¼ Ð°Ð½Ð¸Ð¼Ð°ÑÐ¸Ñ
      heart.style.top = `${y - 25}px`;
      document.body.appendChild(heart);
      heart.addEventListener('animationend', () => {
        heart.remove();
      });
    }
    // --- ÐÐÐÐÐÐÐÐÐ: ÐÐÐÐÐ§ÐÐ¡ÐÐÐ Ð¢ÐÐ-Ð­Ð¤Ð¤ÐÐÐ¢ ---
    document.addEventListener('touchstart', function(e) {
      const touch = e.touches[0];
      createMagicTap(touch.clientX, touch.clientY);
    });
    function createMagicTap(x, y) {
      const symbols = ['â¨', 'ð®', 'â¦', 'â§', 'â½'];
      const symbol = symbols[Math.floor(Math.random() * symbols.length)];
      const tap = document.createElement('div');
      tap.className = 'magic-tap';
      tap.style.left = x + 'px';
      tap.style.top = y + 'px';
      tap.innerHTML = symbol;
      // ÐÐ¾Ð»ÐµÑ Ðº Ð»Ð¸Ð¿ÐºÐ¾Ð¹ ÐºÐ½Ð¾Ð¿ÐºÐµ
      const btn = document.querySelector('.sticky-whatsapp');
      if (btn) {
        const btnRect = btn.getBoundingClientRect();
        tap.style.setProperty('--startX', x + 'px');
        tap.style.setProperty('--startY', y + 'px');
        tap.style.setProperty('--endX', (btnRect.left + btnRect.width/2) + 'px');
        tap.style.setProperty('--endY', (btnRect.top + btnRect.height/2) + 'px');
      }
      document.body.appendChild(tap);
      setTimeout(() => tap.remove(), 1500);
    }
  </script>
</body>
</html>


